(function(e){function o(o){for(var i,r,n=o[0],d=o[1],m=o[2],c=0,g=[];c<n.length;c++)r=n[c],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&g.push(s[r][0]),s[r]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);l&&l(o);while(g.length)g.shift()();return a.push.apply(a,m||[]),t()}function t(){for(var e,o=0;o<a.length;o++){for(var t=a[o],i=!0,n=1;n<t.length;n++){var d=t[n];0!==s[d]&&(i=!1)}i&&(a.splice(o--,1),e=r(r.s=t[0]))}return e}var i={},s={app:0},a=[];function r(o){if(i[o])return i[o].exports;var t=i[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,o,t){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)r.d(t,i,function(o){return e[o]}.bind(null,i));return t},r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="/townsquare/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=o,n=n.slice();for(var m=0;m<n.length;m++)o(n[m]);var l=d;a.push(["56d7","chunk-vendors"]),t()})({"00c0":function(e){e.exports=JSON.parse('[{"id":"tb","name":"Trouble Brewing","author":"The Pandemonium Institute","description":"Clouds roll in over Ravenswood Bluff, engulfing this sleepy town and its superstitious inhabitants in foreboding shadow. Freshly-washed clothes dance eerily on lines strung between cottages. Chimneys cough plumes of smoke into the air. Exotic scents waft through cracks in windows and under doors, as hidden cauldrons lay bubbling. An unusually warm Autumn breeze wraps around vine-covered walls and whispers ominously to those brave enough to walk the cobbled streets.\\n\\nAnxious mothers call their children home from play, as thunder begins to clap on the horizon. If you listen more closely, however, noises stranger still can be heard echoing from the neighbouring forest. Under the watchful eye of a looming monastery, silhouetted figures skip from doorway to doorway. Those who can read the signs know there is... Trouble Brewing.","level":"Beginner","roles":[],"isOfficial":true},{"id":"bmr","name":"Bad Moon Rising","author":"The Pandemonium Institute","description":"The sun is swallowed by a jagged horizon as another winter\'s day surrenders to the night. Flecks of orange and red decay into deeper browns, the forest transforming in silent anticipation of the coming snow.\\n\\nRavenous wolves howl from the bowels of a rocky crevasse beyond the town borders, sending birds scattering from their cozy rooks. Travelers hurry into the inn, seeking shelter from the gathering chill. They warm themselves with hot tea, sweet strains of music and hearty ale, unaware that strange and nefarious eyes stalk them from the ruins of this once great city.\\n\\nTonight, even the livestock know there is a... Bad Moon Rising.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"snv","name":"Sects & Violets","author":"The Pandemonium Institute","description":"Vibrant spring gives way to a warm and inviting summer. Flowers of every description blossom as far as the eye can see, tenderly nurtured in public gardens and window boxes overlooking the lavish promenade. Birds sing, artists paint and philosophers ponder life\'s greatest mysteries inside a bustling tavern as a circus pitches its endearingly ragged tent on the edge of town.\\n\\nAs the townsfolk bask in frivolity and mischief, indulging themselves in fine entertainment and even finer wine, dark and clandestine forces are assembling. Witches and cults lurk in majestic ruins on the fringes of the community, hosting secret meetings in underground caves and malevolently plotting the downfall of Ravenswood Bluff and its revelers.\\n\\nThe time is ripe for... Sects & Violets.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"luf","name":"Laissez un Faire","author":"The Pandemonium Institute","description":"","level":"Veteran","roles":["balloonist","savant","amnesiac","fisherman","artist","cannibal","mutant","lunatic","widow","goblin","leviathan"],"isOfficial":true}]')},"013f":function(e,o,t){e.exports=t.p+"img/washerwoman.554de332.png"},"027a":function(e,o,t){e.exports=t.p+"img/barista.6c427e65.png"},"0436":function(e,o,t){e.exports=t.p+"img/cerenovus.cc343942.png"},"043b":function(e,o,t){e.exports=t.p+"img/amnesiac.fbd5ab33.png"},"07ab":function(e,o,t){e.exports=t.p+"img/politician.521cc53f.png"},"0aaa":function(e,o,t){e.exports=t.p+"img/tb.438499cd.png"},"0b29":function(e,o,t){e.exports=t.p+"img/shabaloth.589858d2.png"},"0b61":function(e,o,t){e.exports=t.p+"img/lunatic.39fb7a2a.png"},"0c12":function(e,o,t){e.exports=t.p+"img/oracle.8b13b932.png"},"0c59":function(e,o,t){e.exports=t.p+"img/ravenkeeper.a1dfbc31.png"},"0d06":function(e,o,t){e.exports=t.p+"img/spiritofivory.ef077db5.png"},"0e20":function(e,o,t){e.exports=t.p+"img/undertaker.4f2e9806.png"},"125e":function(e,o,t){e.exports=t.p+"img/chambermaid.5fa8599d.png"},"160b":function(e,o,t){e.exports=t.p+"img/plus.9b84ce65.png"},"177d":function(e,o,t){e.exports=t.p+"img/recluse.81a048d5.png"},"17ad":function(e,o,t){e.exports=t.p+"img/mutant.1b9f9dee.png"},1923:function(e,o,t){e.exports=t.p+"img/huntsman.994fb309.png"},"1d01":function(e,o,t){e.exports=t.p+"img/buddhist.2d7c4106.png"},"1e83":function(e,o,t){e.exports=t.p+"img/chef.c2256a45.png"},2094:function(e,o,t){e.exports=t.p+"img/preacher.a86e913b.png"},"20ca":function(e,o,t){e.exports=t.p+"img/zombuul.2872fbb3.png"},"223c":function(e,o,t){e.exports=t.p+"img/sailor.a9d4454a.png"},"22c9":function(e,o,t){e.exports=t.p+"img/widow.3ae71cbf.png"},"23b1":function(e,o,t){e.exports=t.p+"img/bonecollector.bd2d8b7a.png"},2490:function(e,o,t){e.exports=t.p+"img/outsider.2c6bc66e.png"},"24d3":function(e,o,t){e.exports=t.p+"img/baron.2628f49e.png"},"25f6":function(e,o,t){e.exports=t.p+"img/bureaucrat.6a892d56.png"},"27a3":function(e,o,t){e.exports=t.p+"img/puzzlemaster.b4ec360b.png"},"288b":function(e,o,t){},"28bf":function(e,o,t){e.exports=t.p+"img/bmr-minion.6559191b.png"},"2b04":function(e,o,t){e.exports=t.p+"img/leviathan.24f3cd86.png"},"2cd0":function(e,o,t){e.exports=t.p+"img/artist.e76624f3.png"},"2fd0":function(e,o,t){e.exports=t.p+"img/snv.288a42ad.png"},"30b6":function(e,o,t){e.exports=t.p+"img/sage.8afae02e.png"},3273:function(e,o,t){e.exports=t.p+"img/poppygrower.c9d4c880.png"},"327a":function(e,o,t){e.exports=t.p+"img/scapegoat.73640c39.png"},3603:function(e,o,t){e.exports=t.p+"img/philosopher.9a154d6c.png"},3636:function(e,o,t){"use strict";t("d4b2")},"37dd":function(e,o,t){e.exports=t.p+"img/butcher.2efedb75.png"},"38a5":function(e,o,t){e.exports=t.p+"img/towncrier.8c7af52c.png"},"398f":function(e,o,t){e.exports=t.p+"img/cultleader.1f9a22f0.png"},"39eb":function(e,o,t){e.exports=t.p+"img/toymaker.a96806e5.png"},"3a43":function(e,o,t){e.exports=t.p+"img/vortox.f022015e.png"},"3b65":function(e,o,t){e.exports=t.p+"img/deviant.9fcfb58a.png"},"3e70":function(e,o,t){e.exports=t.p+"img/imp.ff808901.png"},"3f65":function(e,o,t){e.exports=t.p+"img/moonchild.04fb95f1.png"},"3f8f":function(e,o,t){"use strict";t("557b")},4021:function(e,o,t){e.exports=t.p+"img/snakecharmer.7769a0cc.png"},"43e8":function(e,o,t){e.exports=t.p+"img/fortuneteller.a641461f.png"},"441d":function(e,o,t){e.exports=t.p+"img/custom.5334aaeb.png"},"451a":function(e,o,t){e.exports=t.p+"img/snv-minion.60768802.png"},4720:function(e,o,t){e.exports=t.p+"img/fool.0d847910.png"},"4a50":function(e,o,t){"use strict";t("e1c3")},"4bea":function(e,o,t){e.exports=t.p+"img/apprentice.ff782fd9.png"},"4d73":function(e,o,t){e.exports=t.p+"img/librarian.c867e6d6.png"},"4dd9":function(e,o,t){e.exports=t.p+"img/snv-outsider.5b5cae7f.png"},"4e76":function(e,o,t){e.exports=t.p+"img/soldier.ebde76f0.png"},"4eb3":function(e,o,t){e.exports=t.p+"img/golem.4a791883.png"},"4efd":function(e,o,t){e.exports=t.p+"img/minstrel.29c42f5b.png"},5072:function(e,o,t){e.exports=t.p+"img/exorcist.4d617582.png"},"50d1":function(e,o,t){},"557b":function(e,o,t){},"559e":function(e,o,t){e.exports=t.p+"img/harlot.403b3498.png"},"55aa":function(e,o,t){e.exports=t.p+"img/goon.eb004322.png"},5626:function(e,o,t){e.exports=t.p+"img/heretic.5f581ee2.png"},"56d7":function(e,o,t){"use strict";t.r(o);var i=t("2b0e"),s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{class:{night:e.grimoire.isNight,static:e.grimoire.isStatic},style:{backgroundImage:e.grimoire.background?"url('"+e.grimoire.background+"')":""},attrs:{id:"app",tabindex:"-1"},on:{keyup:e.keyup}},[e.grimoire.background&&e.grimoire.background.match(/\.(mp4|webm)$/i)?t("video",{attrs:{id:"background",src:e.grimoire.background,autoplay:"",loop:""}}):e._e(),t("div",{staticClass:"backdrop"}),t("transition",{attrs:{name:"blur"}},[e.players.length?e._e():t("Intro"),e.players.length&&!e.session.nomination?t("TownInfo"):e._e(),e.session.nomination?t("Vote"):e._e()],1),t("TownSquare"),t("Menu",{ref:"menu"}),t("EditionModal"),t("FabledModal"),t("RolesModal"),t("ReferenceModal"),t("NightOrderModal"),t("VoteHistoryModal"),t("GameStateModal"),t("Gradients"),t("span",{attrs:{id:"version"}},[e._v("v"+e._s(e.version))])],1)},a=[],r=t("2f62"),n=t("9224"),d=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"square",class:{public:e.grimoire.isPublic,spectator:e.session.isSpectator,vote:e.session.nomination},attrs:{id:"townsquare"}},[t("ul",{staticClass:"circle",class:["size-"+e.players.length]},e._l(e.players,(function(o,i){return t("Player",{key:i,class:{from:Math.max(e.swap,e.move,e.nominate)===i,swap:e.swap>-1,move:e.move>-1,nominate:e.nominate>-1},attrs:{player:o},on:{trigger:function(o){return e.handleTrigger(i,o)}}})})),1),e.players.length?t("div",{ref:"bluffs",staticClass:"bluffs",class:{closed:!e.isBluffsOpen}},[t("h3",[e.session.isSpectator?t("span",[e._v("Outros personagens")]):t("span",[e._v("Blefes do Dêmonio")]),t("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleBluffs(o)}}}),t("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleBluffs(o)}}})],1),t("ul",e._l(e.bluffSize,(function(o){return t("li",{key:o,on:{click:function(t){return e.openRoleModal(-1*o)}}},[t("Token",{attrs:{role:e.bluffs[o-1]}})],1)})),0)]):e._e(),e.fabled.length?t("div",{staticClass:"fabled",class:{closed:!e.isFabledOpen}},[t("h3",[t("span",[e._v("Lendas")]),t("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleFabled(o)}}}),t("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleFabled(o)}}})],1),t("ul",e._l(e.fabled,(function(o,i){return t("li",{key:i,on:{click:function(o){return e.removeFabled(i)}}},[e.nightOrder.get(o).first&&e.grimoire.isNightOrder?t("div",{staticClass:"night-order first"},[t("em",[e._v(e._s(e.nightOrder.get(o).first)+".")]),o.firstNightReminder?t("span",[e._v(e._s(o.firstNightReminder))]):e._e()]):e._e(),e.nightOrder.get(o).other&&e.grimoire.isNightOrder?t("div",{staticClass:"night-order other"},[t("em",[e._v(e._s(e.nightOrder.get(o).other)+".")]),o.otherNightReminder?t("span",[e._v(e._s(o.otherNightReminder))]):e._e()]):e._e(),t("Token",{attrs:{role:o}})],1)})),0)]):e._e(),t("ReminderModal",{attrs:{"player-index":e.selectedPlayer}}),t("RoleModal",{attrs:{"player-index":e.selectedPlayer}})],1)},m=[],l=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("li",{style:e.zoom},[i("div",{ref:"player",staticClass:"player",class:[{dead:e.player.isDead,marked:e.session.markedPlayer===e.index,"no-vote":e.player.isVoteless,you:e.session.sessionId&&e.player.id&&e.player.id===e.session.playerId,"vote-yes":e.session.votes[e.index],"vote-lock":e.voteLocked},e.player.role.team]},[i("div",{staticClass:"shroud",on:{click:function(o){return e.toggleStatus()}}}),i("div",{staticClass:"life",on:{click:function(o){return e.toggleStatus()}}}),e.nightOrder.get(e.player).first&&e.grimoire.isNightOrder?i("div",{staticClass:"night-order first"},[i("em",[e._v(e._s(e.nightOrder.get(e.player).first)+".")]),e.player.role.firstNightReminder?i("span",[e._v(e._s(e.player.role.firstNightReminder))]):e._e()]):e._e(),e.nightOrder.get(e.player).other&&e.grimoire.isNightOrder?i("div",{staticClass:"night-order other"},[i("em",[e._v(e._s(e.nightOrder.get(e.player).other)+".")]),e.player.role.otherNightReminder?i("span",[e._v(e._s(e.player.role.otherNightReminder))]):e._e()]):e._e(),i("Token",{attrs:{role:e.player.role},on:{"set-role":function(o){return e.$emit("trigger",["openRoleModal"])}}}),i("div",{staticClass:"overlay"},[i("font-awesome-icon",{staticClass:"vote",attrs:{icon:"hand-paper",title:"Hand UP"},on:{click:function(o){return e.vote()}}}),i("font-awesome-icon",{staticClass:"vote",attrs:{icon:"times",title:"Hand DOWN"},on:{click:function(o){return e.vote()}}}),i("font-awesome-icon",{staticClass:"cancel",attrs:{icon:"times-circle",title:"Cancel"},on:{click:function(o){return e.cancel()}}}),i("font-awesome-icon",{staticClass:"swap",attrs:{icon:"exchange-alt",title:"Swap seats with this player"},on:{click:function(o){return e.swapPlayer(e.player)}}}),i("font-awesome-icon",{staticClass:"move",attrs:{icon:"redo-alt",title:"Move player to this seat"},on:{click:function(o){return e.movePlayer(e.player)}}}),i("font-awesome-icon",{staticClass:"nominate",attrs:{icon:"hand-point-right",title:"Nominate this player"},on:{click:function(o){return e.nominatePlayer(e.player)}}})],1),e.player.id&&e.session.sessionId?i("font-awesome-icon",{staticClass:"seat",class:{highlight:e.session.isRolesDistributed},attrs:{icon:"chair"}}):e._e(),e.player.isDead&&!e.player.isVoteless?i("font-awesome-icon",{staticClass:"has-vote",attrs:{icon:"vote-yea",title:"Ghost vote"},on:{click:function(o){return e.updatePlayer("isVoteless",!0)}}}):e._e(),i("div",{staticClass:"marked"},[i("font-awesome-icon",{attrs:{icon:"skull"}})],1),i("div",{staticClass:"name",class:{active:e.isMenuOpen},on:{click:function(o){e.isMenuOpen=!e.isMenuOpen}}},[i("span",[e._v(e._s(e.player.name))]),e.player.pronouns?i("font-awesome-icon",{attrs:{icon:"venus-mars"}}):e._e(),e.player.pronouns?i("div",{staticClass:"pronouns"},[i("span",[e._v(e._s(e.player.pronouns))])]):e._e()],1),i("transition",{attrs:{name:"fold"}},[e.isMenuOpen?i("ul",{staticClass:"menu"},[!e.session.isSpectator||e.session.isSpectator&&e.player.id===e.session.playerId?i("li",{on:{click:e.changePronouns}},[i("font-awesome-icon",{attrs:{icon:"venus-mars"}}),e._v("Trocar Pronomes ")],1):e._e(),e.session.isSpectator?e._e():[i("li",{on:{click:e.changeName}},[i("font-awesome-icon",{attrs:{icon:"user-edit"}}),e._v("Renomear ")],1),i("li",{class:{disabled:e.session.lockedVote},on:{click:function(o){return e.movePlayer()}}},[i("font-awesome-icon",{attrs:{icon:"redo-alt"}}),e._v(" Mover Jogador ")],1),i("li",{class:{disabled:e.session.lockedVote},on:{click:function(o){return e.swapPlayer()}}},[i("font-awesome-icon",{attrs:{icon:"exchange-alt"}}),e._v(" Trocar Assentos ")],1),i("li",{class:{disabled:e.session.lockedVote},on:{click:e.removePlayer}},[i("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v(" Remover ")],1),e.player.id&&e.session.sessionId?i("li",{on:{click:function(o){return e.updatePlayer("id","",!0)}}},[i("font-awesome-icon",{attrs:{icon:"chair"}}),e._v(" Liberar Assento ")],1):e._e(),e.session.nomination?e._e():[i("li",{on:{click:function(o){return e.nominatePlayer()}}},[i("font-awesome-icon",{attrs:{icon:"hand-point-right"}}),e._v(" Nomeação ")],1)]],e.session.isSpectator?i("li",{class:{disabled:e.player.id&&e.player.id!==e.session.playerId},on:{click:e.claimSeat}},[i("font-awesome-icon",{attrs:{icon:"chair"}}),e.player.id?e.player.id===e.session.playerId?[e._v(" Liberar Assento ")]:[e._v(" Assento Ocupado")]:[e._v(" Clamar Assento ")]],2):e._e()],2):e._e()])],1),e.player.reminders?e._l(e.player.reminders,(function(o){return i("div",{key:o.role+" "+o.name,staticClass:"reminder",class:[o.role],on:{click:function(t){return e.removeReminder(o)}}},[i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.role)+".png"))+")"}}),i("span",{staticClass:"text"},[e._v(e._s(o.name))])])})):e._e(),i("div",{staticClass:"reminder add",on:{click:function(o){return e.$emit("trigger",["openReminderModal"])}}},[i("span",{staticClass:"icon"})])],2)},c=[],g=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"token",class:[e.role.id],on:{click:e.setRole}},[e.role.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(e.role.image&&e.grimoire.isImageOptIn?e.role.image:t("61b0")("./"+(e.role.imageAlt||e.role.id)+".png"))+")"}}):e._e(),e.role.firstNight||e.role.firstNightReminder?i("span",{staticClass:"leaf-left"}):e._e(),e.role.otherNight||e.role.otherNightReminder?i("span",{staticClass:"leaf-right"}):e._e(),e.reminderLeaves?i("span",{class:["leaf-top"+e.reminderLeaves]}):e._e(),e.role.setup?i("span",{staticClass:"leaf-orange"}):e._e(),i("svg",{staticClass:"name",attrs:{viewBox:"0 0 150 150"}},[i("path",{attrs:{d:"M 13 75 C 13 160, 138 160, 138 75",id:"curve",fill:"transparent"}}),i("text",{staticClass:"label mozilla",attrs:{width:"150",x:"66.6%","text-anchor":"middle","font-size":e._f("nameToFontSize")(e.role.name)}},[i("textPath",{attrs:{"xlink:href":"#curve"}},[e._v(" "+e._s(e.role.name)+" ")])])]),i("div",{staticClass:"edition",class:["edition-"+e.role.edition,e.role.team]}),e.role.ability?i("div",{staticClass:"ability"},[e._v(" "+e._s(e.role.ability)+" ")]):e._e()])},p=[],h={name:"Token",props:{role:{type:Object,default:()=>({})}},computed:{reminderLeaves:function(){return(this.role.reminders||[]).length+(this.role.remindersGlobal||[]).length},...Object(r["d"])(["grimoire"])},data(){return{}},filters:{nameToFontSize:e=>e&&e.length>10?"90%":"110%"},methods:{setRole(){this.$emit("set-role")}}},u=h,f=(t("5720"),t("2877")),b=Object(f["a"])(u,g,p,!1,null,"deec739a",null),v=b.exports,y={components:{Token:v},props:{player:{type:Object,required:!0}},computed:{...Object(r["d"])("players",["players"]),...Object(r["d"])(["grimoire","session"]),...Object(r["b"])({nightOrder:"players/nightOrder"}),index:function(){return this.players.indexOf(this.player)},voteLocked:function(){const e=this.session,o=this.players.length;if(!e.nomination)return!1;const t=(this.index-1+o-e.nomination[1])%o;return t<e.lockedVote-1},zoom:function(){const e=window.innerWidth>window.innerHeight?"vh":"vw";return this.players.length<7?{width:18+this.grimoire.zoom+e}:this.players.length<=10?{width:16+this.grimoire.zoom+e}:this.players.length<=15?{width:14+this.grimoire.zoom+e}:{width:12+this.grimoire.zoom+e}}},data(){return{isMenuOpen:!1,isSwap:!1}},methods:{changePronouns(){if(this.session.isSpectator&&this.player.id!==this.session.playerId)return;const e=prompt("Player pronouns",this.player.pronouns);null!==e&&this.updatePlayer("pronouns",e,!0)},toggleStatus(){this.grimoire.isPublic?this.player.isDead?this.player.isVoteless?(this.updatePlayer("isVoteless",!1),this.updatePlayer("isDead",!1)):this.updatePlayer("isVoteless",!0):(this.updatePlayer("isDead",!0),this.player.isMarked&&this.updatePlayer("isMarked",!1)):(this.updatePlayer("isDead",!this.player.isDead),this.player.isMarked&&this.updatePlayer("isMarked",!1),this.player.isVoteless&&this.updatePlayer("isVoteless",!1))},changeName(){if(this.session.isSpectator)return;const e=prompt("Player name",this.player.name)||this.player.name;this.updatePlayer("name",e,!0)},removeReminder(e){const o=[...this.player.reminders];o.splice(this.player.reminders.indexOf(e),1),this.updatePlayer("reminders",o,!0)},updatePlayer(e,o,t=!1){this.session.isSpectator&&"reminders"!==e&&"pronouns"!==e||(this.$store.commit("players/update",{player:this.player,property:e,value:o}),t&&(this.isMenuOpen=!1))},removePlayer(){this.isMenuOpen=!1,this.$emit("trigger",["removePlayer"])},swapPlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["swapPlayer",e])},movePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["movePlayer",e])},nominatePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["nominatePlayer",e])},cancel(){this.$emit("trigger",["cancel"])},claimSeat(){this.isMenuOpen=!1,this.$emit("trigger",["claimSeat"])},vote(){this.session.isSpectator||this.voteLocked&&this.$store.commit("session/voteSync",[this.index,!this.session.votes[this.index]])}}},N=y,_=(t("74c9"),Object(f["a"])(N,l,c,!1,null,null,null)),k=_.exports,j=function(){var e=this,o=e.$createElement,i=e._self._c||o;return e.modals.reminder&&e.availableReminders.length&&e.players[e.playerIndex]?i("Modal",{on:{close:function(o){return e.toggleModal("reminder")}}},[i("h3",[e._v("Escolha um marcador:")]),i("ul",{staticClass:"reminders"},e._l(e.availableReminders,(function(o){return i("li",{key:o.role+" "+o.name,staticClass:"reminder",class:[o.role],on:{click:function(t){return e.addReminder(o)}}},[i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.role)+".png"))+")"}}),i("span",{staticClass:"text"},[e._v(e._s(o.name))])])})),0)]):e._e()},S=[],R=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("transition",{attrs:{name:"modal-fade"}},[t("div",{staticClass:"modal-backdrop",on:{click:e.close}},[t("div",{staticClass:"modal",class:{maximized:e.isMaximized},attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"},on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"top-right-buttons"},[t("font-awesome-icon",{staticClass:"top-right-button",attrs:{icon:["fas",e.isMaximized?"window-minimize":"window-maximize"]},on:{click:function(o){e.isMaximized=!e.isMaximized}}}),t("font-awesome-icon",{staticClass:"top-right-button",attrs:{icon:"times-circle"},on:{click:e.close}})],1),t("div",{staticClass:"slot"},[e._t("default")],2)])])])},w=[],x={data:function(){return{isMaximized:!1}},methods:{close(){this.$emit("close")}}},M=x,C=(t("8781"),Object(f["a"])(M,R,w,!1,null,null,null)),O=C.exports;const q=({id:e,image:o,imageAlt:t})=>i=>({role:e,image:o,imageAlt:t,name:i});var I={components:{Modal:O},props:["playerIndex"],computed:{availableReminders(){let e=[];const{players:o,bluffs:t}=this.$store.state.players;return this.$store.state.roles.forEach(i=>{(o.some(e=>e.role.id===i.id)||t.some(e=>e.id===i.id))&&(e=[...e,...i.reminders.map(q(i))]),i.remindersGlobal&&i.remindersGlobal.length&&(e=[...e,...i.remindersGlobal.map(q(i))])}),this.$store.state.players.fabled.forEach(o=>{e=[...e,...o.reminders.map(q(o))]}),this.$store.state.otherTravelers.forEach(t=>{o.some(e=>e.role.id===t.id)&&(e=[...e,...t.reminders.map(q(t))])}),e.push({role:"good",name:"Good"}),e.push({role:"evil",name:"Evil"}),e.push({role:"custom",name:"Custom note"}),e},...Object(r["d"])(["modals","grimoire"]),...Object(r["d"])("players",["players"])},methods:{addReminder(e){const o=this.$store.state.players.players[this.playerIndex];let t;if("custom"===e.role){const e=prompt("Add a custom reminder note");if(!e)return;t=[...o.reminders,{role:"custom",name:e}]}else t=[...o.reminders,e];this.$store.commit("players/update",{player:o,property:"reminders",value:t}),this.$store.commit("toggleModal","reminder")},...Object(r["c"])(["toggleModal"])}},A=I,P=(t("ce86"),Object(f["a"])(A,j,S,!1,null,"29f755b2",null)),V=P.exports,E=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.role&&e.availableRoles.length?t("Modal",{on:{close:e.close}},[t("h3",[e._v(" Escolha um novo persoangem para "+e._s(e.playerIndex>=0&&e.players.length?e.players[e.playerIndex].name:"bluffing")+" ")]),"editionRoles"!==e.tab&&e.otherTravelers.size?e._e():t("ul",{staticClass:"tokens"},e._l(e.availableRoles,(function(o){return t("li",{key:o.id,class:[o.team],on:{click:function(t){return e.setRole(o)}}},[t("Token",{attrs:{role:o}})],1)})),0),"otherTravelers"===e.tab&&e.otherTravelers.size?t("ul",{staticClass:"tokens"},e._l(e.otherTravelers.values(),(function(o){return t("li",{key:o.id,class:[o.team],on:{click:function(t){return e.setRole(o)}}},[t("Token",{attrs:{role:o}})],1)})),0):e._e(),e.playerIndex>=0&&e.otherTravelers.size&&!e.session.isSpectator?t("div",{staticClass:"button-group"},[t("span",{staticClass:"button",class:{townsfolk:"editionRoles"===e.tab},on:{click:function(o){e.tab="editionRoles"}}},[e._v("Cenário")]),t("span",{staticClass:"button",class:{townsfolk:"otherTravelers"===e.tab},on:{click:function(o){e.tab="otherTravelers"}}},[e._v("Outros Viajantes")])]):e._e()]):e._e()},D=[],z={components:{Token:v,Modal:O},props:["playerIndex"],computed:{availableRoles(){const e=[],o=this.$store.state.players.players;return this.$store.state.roles.forEach(t=>{(this.playerIndex>=0||this.playerIndex<0&&!o.some(e=>e.role.id===t.id))&&e.push(t)}),e.push({}),e},...Object(r["d"])(["modals","roles","session"]),...Object(r["d"])("players",["players"]),...Object(r["d"])(["otherTravelers"])},data(){return{tab:"editionRoles"}},methods:{setRole(e){if(this.playerIndex<0)this.$store.commit("players/setBluff",{index:-1*this.playerIndex-1,role:e});else{if(this.session.isSpectator&&"traveler"===e.team)return;const o=this.$store.state.players.players[this.playerIndex];this.$store.commit("players/update",{player:o,property:"role",value:e})}this.tab="editionRoles",this.$store.commit("toggleModal","role")},close(){this.tab="editionRoles",this.toggleModal("role")},...Object(r["c"])(["toggleModal"])}},L=z,T=(t("6798"),Object(f["a"])(L,E,D,!1,null,"d3218ef8",null)),$=T.exports,F={components:{Player:k,Token:v,RoleModal:$,ReminderModal:V},computed:{...Object(r["b"])({nightOrder:"players/nightOrder"}),...Object(r["d"])(["grimoire","roles","session"]),...Object(r["d"])("players",["players","bluffs","fabled"])},data(){return{selectedPlayer:0,bluffSize:3,swap:-1,move:-1,nominate:-1,isBluffsOpen:!0,isFabledOpen:!0}},methods:{toggleBluffs(){this.isBluffsOpen=!this.isBluffsOpen},toggleFabled(){this.isFabledOpen=!this.isFabledOpen},removeFabled(e){this.session.isSpectator||this.$store.commit("players/setFabled",{index:e})},handleTrigger(e,[o,t]){"function"===typeof this[o]&&this[o](e,t)},claimSeat(e){this.session.isSpectator&&(this.session.playerId===this.players[e].id?this.$store.commit("session/claimSeat",-1):this.$store.commit("session/claimSeat",e))},openReminderModal(e){this.selectedPlayer=e,this.$store.commit("toggleModal","reminder")},openRoleModal(e){const o=this.players[e];this.session.isSpectator&&o&&"traveler"===o.role.team||(this.selectedPlayer=e,this.$store.commit("toggleModal","role"))},removePlayer(e){if(!this.session.isSpectator&&!this.session.lockedVote&&confirm(`Do you really want to remove ${this.players[e].name}?`)){const{nomination:o}=this.session;o&&(o.includes(e)?this.$store.commit("session/nomination"):(o[0]>e||o[1]>e)&&this.$store.commit("session/setNomination",[o[0]>e?o[0]-1:o[0],o[1]>e?o[1]-1:o[1]])),this.$store.commit("players/remove",e)}},swapPlayer(e,o){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===o)this.cancel(),this.swap=e;else{if(this.session.nomination){const e=this.players.indexOf(o),t=this.session.nomination.map(o=>o===this.swap?e:o===e?this.swap:o);this.session.nomination[0]===t[0]&&this.session.nomination[1]===t[1]||this.$store.commit("session/setNomination",t)}this.$store.commit("players/swap",[this.swap,this.players.indexOf(o)]),this.cancel()}},movePlayer(e,o){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===o)this.cancel(),this.move=e;else{if(this.session.nomination){const e=this.players.indexOf(o),t=this.session.nomination.map(o=>o===this.move?e:o>this.move&&o<=e?o-1:o<this.move&&o>=e?o+1:o);this.session.nomination[0]===t[0]&&this.session.nomination[1]===t[1]||this.$store.commit("session/setNomination",t)}this.$store.commit("players/move",[this.move,this.players.indexOf(o)]),this.cancel()}},nominatePlayer(e,o){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===o)this.cancel(),e!==this.nominate&&(this.nominate=e);else{const e=[this.nominate,this.players.indexOf(o)];this.$store.commit("session/nomination",{nomination:e}),this.cancel()}},cancel(){this.move=-1,this.swap=-1,this.nominate=-1}}},B=F,H=(t("3636"),Object(f["a"])(B,d,m,!1,null,null,null)),G=H.exports,U=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("ul",{staticClass:"info"},[i("li",{staticClass:"edition",class:["edition-"+e.edition.id],style:{backgroundImage:"url("+(e.edition.logo&&e.grimoire.isImageOptIn?e.edition.logo:t("ce23")("./"+e.edition.id+".png"))+")"}}),e.players.length-e.teams.traveler<5?i("li",[e._v(" Por favor adicione mais jogadores. ")]):e._e(),i("li",[e.edition.isOfficial?e._e():i("span",{staticClass:"meta"},[e._v(" "+e._s(e.edition.name)+" "+e._s(e.edition.author?"by "+e.edition.author:"")+" ")]),i("span",[e._v(" "+e._s(e.players.length)+" "),i("font-awesome-icon",{staticClass:"players",attrs:{icon:"users"}})],1),i("span",[e._v(" "+e._s(e.teams.alive)+" "),i("font-awesome-icon",{staticClass:"alive",attrs:{icon:"heartbeat"}})],1),i("span",[e._v(" "+e._s(e.teams.votes)+" "),i("font-awesome-icon",{staticClass:"votes",attrs:{icon:"vote-yea"}})],1)]),e.players.length-e.teams.traveler>=5?i("li",[i("span",[e._v(" "+e._s(e.teams.townsfolk)+" "),i("font-awesome-icon",{staticClass:"townsfolk",attrs:{icon:"user-friends"}})],1),i("span",[e._v(" "+e._s(e.teams.outsider)+" "),i("font-awesome-icon",{staticClass:"outsider",attrs:{icon:e.teams.outsider>1?"user-friends":"user"}})],1),i("span",[e._v(" "+e._s(e.teams.minion)+" "),i("font-awesome-icon",{staticClass:"minion",attrs:{icon:e.teams.minion>1?"user-friends":"user"}})],1),i("span",[e._v(" "+e._s(e.teams.demon)+" "),i("font-awesome-icon",{staticClass:"demon",attrs:{icon:e.teams.demon>1?"user-friends":"user"}})],1),e.teams.traveler?i("span",[e._v(" "+e._s(e.teams.traveler)+" "),i("font-awesome-icon",{staticClass:"traveler",attrs:{icon:e.teams.traveler>1?"user-friends":"user"}})],1):e._e(),e.grimoire.isNight?i("span",[e._v(" Night phase "),i("font-awesome-icon",{attrs:{icon:["fas","cloud-moon"]}})],1):e._e()]):e._e()])},J=[],W=t("634a"),Q={computed:{teams:function(){const{players:e}=this.$store.state.players,o=this.$store.getters["players/nonTravelers"],t=e.filter(e=>!0!==e.isDead).length;return{...W[o-5],traveler:e.length-o,alive:t,votes:t+e.filter(e=>!0===e.isDead&&!0!==e.isVoteless).length}},...Object(r["d"])(["edition","grimoire"]),...Object(r["d"])("players",["players"])}},Z=Q,K=(t("dfe0"),Object(f["a"])(Z,U,J,!1,null,"1e0a9815",null)),Y=K.exports,X=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"controls"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.session.voteHistory.length&&e.session.sessionId,expression:"session.voteHistory.length && session.sessionId"}],staticClass:"nomlog-summary",attrs:{title:e.session.voteHistory.length+" recent "+(1==e.session.voteHistory.length?"nomination":"nominations")},on:{click:function(o){return e.toggleModal("voteHistory")}}},[t("font-awesome-icon",{attrs:{icon:"book-dead"}}),e._v(" "+e._s(e.session.voteHistory.length)+" ")],1),e.session.sessionId?t("span",{staticClass:"session",class:{spectator:e.session.isSpectator,reconnecting:e.session.isReconnecting},attrs:{title:e.session.playerCount+" other players in this session"+(e.session.ping?" ("+e.session.ping+"ms latency)":"")},on:{click:e.leaveSession}},[t("font-awesome-icon",{attrs:{icon:"broadcast-tower"}}),e._v(" "+e._s(e.session.playerCount)+" ")],1):e._e(),t("div",{staticClass:"menu",class:{open:e.grimoire.isMenuOpen}},[t("font-awesome-icon",{attrs:{icon:"cog"},on:{click:e.toggleMenu}}),t("ul",[t("li",{staticClass:"tabs",class:e.tab},[t("font-awesome-icon",{attrs:{icon:"book-open"},on:{click:function(o){e.tab="grimoire"}}}),t("font-awesome-icon",{attrs:{icon:"broadcast-tower"},on:{click:function(o){e.tab="session"}}}),e.session.isSpectator?e._e():t("font-awesome-icon",{attrs:{icon:"users"},on:{click:function(o){e.tab="players"}}}),t("font-awesome-icon",{attrs:{icon:"theater-masks"},on:{click:function(o){e.tab="characters"}}}),t("font-awesome-icon",{attrs:{icon:"question"},on:{click:function(o){e.tab="help"}}})],1),"grimoire"===e.tab?[t("li",{staticClass:"headline"},[e._v("Grimório")]),e.players.length?t("li",{on:{click:e.toggleGrimoire}},[e.grimoire.isPublic?e._e():[e._v("Esconder")],e.grimoire.isPublic?[e._v("Mostrar")]:e._e(),t("em",[e._v("[G]")])],2):e._e(),e.session.isSpectator?e._e():t("li",{on:{click:e.toggleNight}},[e.grimoire.isNight?e._e():[e._v("Trocar para Noite")],e.grimoire.isNight?[e._v("Trocar para Dia")]:e._e(),t("em",[e._v("[S]")])],2),e.players.length?t("li",{on:{click:e.toggleNightOrder}},[e._v(" Ordem da Noite "),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isNightOrder?"check-square":"square"]}})],1)]):e._e(),e.players.length?t("li",[e._v(" Zoom "),t("em",[t("font-awesome-icon",{attrs:{icon:"search-minus"},on:{click:function(o){return e.setZoom(e.grimoire.zoom-1)}}}),e._v(" "+e._s(Math.round(100+10*e.grimoire.zoom))+"% "),t("font-awesome-icon",{attrs:{icon:"search-plus"},on:{click:function(o){return e.setZoom(e.grimoire.zoom+1)}}})],1)]):e._e(),t("li",{on:{click:e.setBackground}},[e._v(" Imagem de fundo "),t("em",[t("font-awesome-icon",{attrs:{icon:"image"}})],1)]),e.edition.isOfficial?e._e():t("li",{on:{click:e.imageOptIn}},[t("small",[e._v("Mostrar imagens customizadas")]),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isImageOptIn?"check-square":"square"]}})],1)]),t("li",{on:{click:e.toggleStatic}},[e._v(" Desabilitar Animações "),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isStatic?"check-square":"square"]}})],1)]),t("li",{on:{click:e.toggleMuted}},[e._v(" Mutar Sons "),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isMuted?"volume-mute":"volume-up"]}})],1)])]:e._e(),"session"===e.tab?[e.session.sessionId?t("li",{staticClass:"headline"},[e._v(" "+e._s(e.session.isSpectator?"Playing":"Hosting")+" ")]):t("li",{staticClass:"headline"},[e._v(" Live Session ")]),e.session.sessionId?[e.session.ping?t("li",[e._v(" Delay to "+e._s(e.session.isSpectator?"host":"players")+" "),t("em",[e._v(e._s(e.session.ping)+"ms")])]):e._e(),t("li",{on:{click:e.copySessionUrl}},[e._v(" Copiar link de jogadores "),t("em",[t("font-awesome-icon",{attrs:{icon:"copy"}})],1)]),e.session.isSpectator?e._e():t("li",{on:{click:e.distributeRoles}},[e._v(" Enviar Personagens "),t("em",[t("font-awesome-icon",{attrs:{icon:"theater-masks"}})],1)]),e.session.voteHistory.length||!e.session.isSpectator?t("li",{on:{click:function(o){return e.toggleModal("voteHistory")}}},[e._v(" Histórico de Votação"),t("em",[e._v("[V]")])]):e._e(),t("li",{on:{click:e.leaveSession}},[e._v(" Sair da Sessão "),t("em",[e._v(e._s(e.session.sessionId))])])]:[t("li",{on:{click:e.hostSession}},[e._v("Host (Storyteller)"),t("em",[e._v("[H]")])]),t("li",{on:{click:e.joinSession}},[e._v("Join (Player)"),t("em",[e._v("[J]")])])]]:e._e(),"players"!==e.tab||e.session.isSpectator?e._e():[t("li",{staticClass:"headline"},[e._v("Jogadores")]),e.players.length<20?t("li",{on:{click:e.addPlayer}},[e._v("Adicionar"),t("em",[e._v("[A]")])]):e._e(),e.players.length>2?t("li",{on:{click:e.randomizeSeatings}},[e._v(" Randomizar "),t("em",[t("font-awesome-icon",{attrs:{icon:"dice"}})],1)]):e._e(),e.players.length?t("li",{on:{click:e.clearPlayers}},[e._v(" Remover Todos "),t("em",[t("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()],"characters"===e.tab?[t("li",{staticClass:"headline"},[e._v("Personagens")]),e.session.isSpectator?e._e():t("li",{on:{click:function(o){return e.toggleModal("edition")}}},[e._v(" Selecionar Edição "),t("em",[e._v("[E]")])]),!e.session.isSpectator&&e.players.length>4?t("li",{on:{click:function(o){return e.toggleModal("roles")}}},[e._v(" Escolher & Atribuir "),t("em",[e._v("[C]")])]):e._e(),e.session.isSpectator?e._e():t("li",{on:{click:function(o){return e.toggleModal("fabled")}}},[e._v(" Adicionar Lenda "),t("em",[t("font-awesome-icon",{attrs:{icon:"dragon"}})],1)]),e.players.length?t("li",{on:{click:e.clearRoles}},[e._v(" Remover Todos "),t("em",[t("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()]:e._e(),"help"===e.tab?[t("li",{staticClass:"headline"},[e._v("Ajuda")]),t("li",{on:{click:function(o){return e.toggleModal("reference")}}},[e._v(" Folha de Personagens "),t("em",[e._v("[R]")])]),t("li",{on:{click:function(o){return e.toggleModal("nightOrder")}}},[e._v(" Folha da Ordem da Noite "),t("em",[e._v("[N]")])]),t("li",{on:{click:function(o){return e.toggleModal("gameState")}}},[e._v(" Game State JSON "),t("em",[t("font-awesome-icon",{attrs:{icon:"file-code"}})],1)]),t("li",[t("a",{attrs:{href:"https://discord.gg/Gd7ybwWbFk",target:"_blank"}},[e._v(" Entrar no Discord ")]),t("em",[t("a",{attrs:{href:"https://discord.gg/Gd7ybwWbFk",target:"_blank"}},[t("font-awesome-icon",{attrs:{icon:["fab","discord"]}})],1)])]),t("li",[t("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v(" Source code ")]),t("em",[t("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[t("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)])])]:e._e()],2)],1)])},ee=[],oe={computed:{...Object(r["d"])(["grimoire","session","edition"]),...Object(r["d"])("players",["players"])},data(){return{tab:"grimoire"}},methods:{setBackground(){const e=prompt("Enter custom background URL");(e||""===e)&&this.$store.commit("setBackground",e)},hostSession(){if(this.session.sessionId)return;const e=prompt("Enter a channel number / name for your session",Math.round(1e4*Math.random()));e&&(this.$store.commit("session/clearVoteHistory"),this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",e),this.copySessionUrl())},copySessionUrl(){const e=window.location.href.split("#")[0],o=e+"#"+this.session.sessionId;navigator.clipboard.writeText(o)},distributeRoles(){if(this.session.isSpectator)return;const e="Do you want to distribute assigned characters to all SEATED players?";confirm(e)&&(this.$store.commit("session/distributeRoles",!0),setTimeout((()=>{this.$store.commit("session/distributeRoles",!1)}).bind(this),2e3))},imageOptIn(){const e="Are you sure you want to allow custom images? A malicious script file author might track your IP address this way.";(this.grimoire.isImageOptIn||confirm(e))&&this.toggleImageOptIn()},joinSession(){if(this.session.sessionId)return this.leaveSession();let e=prompt("Enter the channel number / name of the session you want to join");e.match(/^https?:\/\//i)&&(e=e.split("#").pop()),e&&(this.$store.commit("session/clearVoteHistory"),this.$store.commit("session/setSpectator",!0),this.$store.commit("toggleGrimoire",!1),this.$store.commit("session/setSessionId",e))},leaveSession(){confirm("Are you sure you want to leave the active live game?")&&(this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",""))},addPlayer(){if(this.session.isSpectator)return;if(this.players.length>=20)return;const e=prompt("Player name");e&&this.$store.commit("players/add",e)},randomizeSeatings(){this.session.isSpectator||confirm("Are you sure you want to randomize seatings?")&&this.$store.dispatch("players/randomize")},clearPlayers(){this.session.isSpectator||confirm("Are you sure you want to remove all players?")&&(this.session.nomination&&this.$store.commit("session/nomination"),this.$store.commit("players/clear"))},clearRoles(){confirm("Are you sure you want to remove all player roles?")&&this.$store.dispatch("players/clearRoles")},toggleNight(){this.$store.commit("toggleNight"),this.grimoire.isNight&&this.$store.commit("session/setMarkedPlayer",-1)},...Object(r["c"])(["toggleGrimoire","toggleMenu","toggleImageOptIn","toggleMuted","toggleNightOrder","toggleStatic","setZoom","toggleModal"])}},te=oe,ie=(t("4a50"),Object(f["a"])(te,X,ee,!1,null,"de53347e",null)),se=ie.exports,ae=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.roles&&e.nonTravelers>=5?t("Modal",{staticClass:"roles",on:{close:function(o){return e.toggleModal("roles")}}},[t("h3",[e._v("Selecione os personagens para "+e._s(e.nonTravelers)+" jogadores:")]),e._l(e.roleSelection,(function(o,i){return t("ul",{key:i,staticClass:"tokens"},[t("li",{staticClass:"count",class:[i]},[e._v(" "+e._s(o.reduce((function(e,o){var t=o.selected;return e+t}),0))+" / "+e._s(e.game[e.nonTravelers-5][i])+" ")]),e._l(o,(function(o){return t("li",{key:o.id,class:[o.team,o.selected?"selected":""],on:{click:function(e){o.selected=o.selected?0:1}}},[t("Token",{attrs:{role:o}}),o.setup?t("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}):e._e(),e.allowMultiple?t("div",{staticClass:"buttons"},[t("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{click:function(e){e.stopPropagation(),o.selected--}}}),t("span",[e._v(e._s(o.selected>1?"x"+o.selected:""))]),t("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(e){e.stopPropagation(),o.selected++}}})],1):e._e()],1)}))],2)})),e.hasSelectedSetupRoles?t("div",{staticClass:"warning"},[t("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),t("span",[e._v(" Aviso: existem personagens selecionados que modificam a configuração do jogo! o randomizar não leva em conta esses personagens. ")])],1):e._e(),t("label",{staticClass:"multiple",class:{checked:e.allowMultiple}},[t("font-awesome-icon",{attrs:{icon:e.allowMultiple?"check-square":"square"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.allowMultiple,expression:"allowMultiple"}],attrs:{type:"checkbox",name:"allow-multiple"},domProps:{checked:Array.isArray(e.allowMultiple)?e._i(e.allowMultiple,null)>-1:e.allowMultiple},on:{change:function(o){var t=e.allowMultiple,i=o.target,s=!!i.checked;if(Array.isArray(t)){var a=null,r=e._i(t,a);i.checked?r<0&&(e.allowMultiple=t.concat([a])):r>-1&&(e.allowMultiple=t.slice(0,r).concat(t.slice(r+1)))}else e.allowMultiple=s}}}),e._v(" Habilitar personagens duplicados ")],1),t("div",{staticClass:"button-group"},[t("div",{staticClass:"button",class:{disabled:e.selectedRoles>e.nonTravelers||!e.selectedRoles},on:{click:e.assignRoles}},[t("font-awesome-icon",{attrs:{icon:"people-arrows"}}),e._v(" Atribuir "+e._s(e.selectedRoles)+" personagens randomicamente ")],1),t("div",{staticClass:"button",on:{click:e.selectRandomRoles}},[t("font-awesome-icon",{attrs:{icon:"random"}}),e._v(" Randomizar Personagens ")],1)])],2):e._e()},re=[];const ne=e=>e[Math.floor(Math.random()*e.length)];var de={components:{Token:v,Modal:O},data:function(){return{roleSelection:{},game:W,allowMultiple:!1}},computed:{selectedRoles:function(){return Object.values(this.roleSelection).map(e=>e.reduce((e,{selected:o})=>e+o,0)).reduce((e,o)=>e+o,0)},hasSelectedSetupRoles:function(){return Object.values(this.roleSelection).some(e=>e.some(e=>e.selected&&e.setup))},...Object(r["d"])(["roles","modals"]),...Object(r["d"])("players",["players"]),...Object(r["b"])({nonTravelers:"players/nonTravelers"})},methods:{selectRandomRoles(){this.roleSelection={},this.roles.forEach(e=>{this.roleSelection[e.team]||this.$set(this.roleSelection,e.team,[]),this.roleSelection[e.team].push(e),this.$set(e,"selected",0)}),delete this.roleSelection["traveler"];const e=Math.max(5,this.nonTravelers),o=this.game[e-5];Object.keys(o).forEach(e=>{for(let t=0;t<o[e];t++)if(this.roleSelection[e]){const o=this.roleSelection[e].filter(e=>!e.selected);o.length&&(ne(o).selected=1)}})},assignRoles(){if(this.selectedRoles<=this.nonTravelers&&this.selectedRoles){const e=Object.values(this.roleSelection).map(e=>e.reduce((e,o)=>[...e,...Array(o.selected).fill(o)],[])).reduce((e,o)=>[...e,...o],[]).map(e=>[Math.random(),e]).sort((e,o)=>e[0]-o[0]).map(e=>e[1]);this.players.forEach(o=>{if("traveler"!==o.role.team&&e.length){const t=e.pop();this.$store.commit("players/update",{player:o,property:"role",value:t})}}),this.$store.commit("toggleModal","roles")}},...Object(r["c"])(["toggleModal"])},mounted:function(){Object.keys(this.roleSelection).length||this.selectRandomRoles()},watch:{roles(){this.selectRandomRoles()}}},me=de,le=(t("f2c9"),Object(f["a"])(me,ae,re,!1,null,"b1f926e0",null)),ce=le.exports,ge=function(){var e=this,o=e.$createElement,i=e._self._c||o;return e.modals.edition?i("Modal",{staticClass:"editions",on:{close:function(o){return e.toggleModal("edition")}}},[e.isCustom?i("div",{staticClass:"custom"},[i("h3",[e._v("Carregue um script customizado / Personagem")]),e._v(" Para jogar com um script personalizado, você precisa selecionar os personagens que deseja para jogar no oficial "),i("a",{attrs:{href:"https://bloodontheclocktower.com/script-tool/",target:"_blank"}},[e._v("Ferramenta de Script")]),e._v(' e, em seguida, carregue o "custom-list.json" gerado diretamente aqui ou forneça uma URL para esse arquivo JSON hospedado.'),i("br"),i("br"),e._v(" Para jogar com personagens personalizados, por favor leia "),i("a",{attrs:{href:"https://github.com/bra1n/townsquare#custom-characters",target:"_blank"}},[e._v("the documentation")]),e._v(" sobre como escrever um arquivo de definição de personagens personalizado. "),i("b",[e._v("Carregue apenas arquivos JSON personalizados de fontes em que você confia!")]),i("h3",[e._v("Alguns scripts populares:")]),i("ul",{staticClass:"scripts"},e._l(e.scripts,(function(o,t){return i("li",{key:t,on:{click:function(t){return e.handleURL(o[1])}}},[e._v(" "+e._s(o[0])+" ")])})),0),i("input",{ref:"upload",attrs:{type:"file",accept:"application/json"},on:{change:e.handleUpload}}),i("div",{staticClass:"button-group"},[i("div",{staticClass:"button",on:{click:e.openUpload}},[i("font-awesome-icon",{attrs:{icon:"file-upload"}}),e._v(" Upload JSON ")],1),i("div",{staticClass:"button",on:{click:e.promptURL}},[i("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" Enter URL ")],1),i("div",{staticClass:"button",on:{click:function(o){e.isCustom=!1}}},[i("font-awesome-icon",{attrs:{icon:"undo"}}),e._v(" Back ")],1)])]):i("div",[i("h3",[e._v("Selecione uma edição:")]),i("ul",{staticClass:"editions"},[e._l(e.editions,(function(o){return i("li",{key:o.id,staticClass:"edition",class:["edition-"+o.id],style:{backgroundImage:"url("+t("ce23")("./"+o.id+".png")+")"},on:{click:function(t){return e.setEdition(o)}}},[e._v(" "+e._s(o.name)+" ")])})),i("li",{staticClass:"edition edition-custom",style:{backgroundImage:"url("+t("441d")+")"},on:{click:function(o){e.isCustom=!0}}},[e._v(" Scripts Customizados / Personagens ")])],2)])]):e._e()},pe=[],he=t("00c0"),ue={components:{Modal:O},data:function(){return{editions:he,isCustom:!1,scripts:[["Deadly Penance Day","https://gist.githubusercontent.com/bra1n/0337cc44c6fd2c44f7589256ed5486d2/raw/16be38fa3c01aaf49827303ac80577bdb52c0b25/penanceday.json"],["Catfishing 11.1","https://gist.githubusercontent.com/bra1n/8a5ec41a7bbf945f6b7dfc1cef72b569/raw/a312ab93c2f302e0ef83c8b65a4e8e82760fda3a/catfishing.json"],["On Thin Ice (Teensyville)","https://gist.githubusercontent.com/bra1n/8dacd9f2abc6f428331ea1213ab153f5/raw/0cacbcaf8ed9bddae0cca25a9ada97e9958d868b/on-thin-ice.json"],["Race To The Bottom (Teensyville)","https://gist.githubusercontent.com/bra1n/63e1354cb3dc9d4032bcd0623dc48888/raw/5acb0eedcc0a67a64a99c7e0e6271de0b7b2e1b2/race-to-the-bottom.json"],["Frankenstein's Mayor by Ted (Teensyville)","https://gist.githubusercontent.com/bra1n/32c52b422cc01b934a4291eeb81dbcee/raw/5bf770693bbf7aff5e86601c82ca4af3222f4ba6/Frankensteins_Mayor_by_Ted.json"],["Vigormortis High School (Teensyville)","https://gist.githubusercontent.com/bra1n/1f65bd4a999524719d5dabe98c3c2d27/raw/22bbec6bf56a51a7459e5ae41ed47e41971c5445/VigormortisHighSchool.json"]]}},computed:Object(r["d"])(["modals"]),methods:{openUpload(){this.$refs.upload.click()},handleUpload(){const e=this.$refs.upload.files[0];if(e&&e.size){const o=new FileReader;o.addEventListener("load",()=>{try{const e=JSON.parse(o.result);this.parseRoles(e)}catch(e){alert("Error reading custom script: "+e.message)}this.$refs.upload.value=""}),o.readAsText(e)}},promptURL(){const e=prompt("Enter URL to a custom-script.json file");e&&this.handleURL(e)},async handleURL(e){const o=await fetch(e);if(o&&o.json)try{const e=await o.json();this.parseRoles(e)}catch(t){alert("Error loading custom script: "+t.message)}},parseRoles(e){if(!e||!e.length)return;const o=e.findIndex(({id:e})=>"_meta"===e);let t={};if(o>-1&&(t=e.splice(o,1).pop()),this.$store.commit("setCustomRoles",e),this.$store.commit("setEdition",Object.assign({},t,{id:"custom"})),e.some(({id:e})=>this.$store.state.fabled.has(e))){const o=[];e.forEach(({id:e})=>{this.$store.state.fabled.has(e)&&o.push(this.$store.state.fabled.get(e))}),this.$store.commit("players/setFabled",{fabled:o})}this.isCustom=!1},...Object(r["c"])(["toggleModal","setEdition"])}},fe=ue,be=(t("c957"),Object(f["a"])(fe,ge,pe,!1,null,"02bbb8d4",null)),ve=be.exports,ye=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"intro"},[t("img",{attrs:{src:"static/apple-icon.png",alt:""}}),e._v(" Bem vindos a (não oficial) "),t("b",[e._v("Cidade e Grimório Virtual")]),e._v(" para Blood on the Clocktower! Por favor adicione mais jogadores através do "),t("span",{staticClass:"button",on:{click:e.toggleMenu}},[t("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Menu ")],1),e._v(" no canto superior direito ou pressionando "),t("b",[e._v("[A]")]),e._v(". Você pode entrar em uma sessão pressionando "),t("b",[e._v("[J]")]),e._v("."),t("br"),e._m(0)])},Ne=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"footer"},[e._v(" Este projeto é gratuito e de código aberto e pode ser encontrado em "),t("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v("GitHub")]),e._v('. Não é afiliado ao The Pandemonium Institute. "Blood on the clocktower" é uma marca comercial de Steven Medway e The Pandemonium Institute. ')])}],_e={methods:Object(r["c"])(["toggleMenu"])},ke=_e,je=(t("c0a3"),Object(f["a"])(ke,ye,Ne,!1,null,"39845973",null)),Se=je.exports,Re=function(){var e=this,o=e.$createElement,i=e._self._c||o;return e.modals.reference&&e.roles.size?i("Modal",{staticClass:"characters",on:{close:function(o){return e.toggleModal("reference")}}},[i("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"cloud-moon",title:"Show Night Order"},on:{click:function(o){return e.toggleModal("nightOrder")}}}),i("h3",[e._v(" Folha de Personagens "),i("font-awesome-icon",{attrs:{icon:"address-card"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),e._l(e.rolesGrouped,(function(o,s){return i("div",{key:s,class:["team",s]},["townsfolk"===s?i("div",{staticClass:"team"},[i("aside",[i("h4",[e._v("cidadão")])]),i("ul",[e._l(o,(function(o){return i("li",{key:o.id,class:[s]},[o.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.id)+".png"))+")"}}):e._e(),i("div",{staticClass:"role"},[Object.keys(e.playersByRole).length?i("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[o.id]?e.playersByRole[o.id].join(", "):""))]):e._e(),i("span",{staticClass:"name"},[e._v(e._s(o.name))]),i("span",{staticClass:"ability"},[e._v(e._s(o.ability))])])])})),i("li",{class:[s]}),i("li",{class:[s]})],2)]):e._e(),"outsider"===s?i("div",{staticClass:"team"},[i("aside",[i("h4",[e._v("forasteiro")])]),i("ul",[e._l(o,(function(o){return i("li",{key:o.id,class:[s]},[o.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.id)+".png"))+")"}}):e._e(),i("div",{staticClass:"role"},[Object.keys(e.playersByRole).length?i("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[o.id]?e.playersByRole[o.id].join(", "):""))]):e._e(),i("span",{staticClass:"name"},[e._v(e._s(o.name))]),i("span",{staticClass:"ability"},[e._v(e._s(o.ability))])])])})),i("li",{class:[s]}),i("li",{class:[s]})],2)]):e._e(),"minion"===s?i("div",{staticClass:"team"},[i("aside",[i("h4",[e._v("lacaio")])]),i("ul",[e._l(o,(function(o){return i("li",{key:o.id,class:[s]},[o.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.id)+".png"))+")"}}):e._e(),i("div",{staticClass:"role"},[Object.keys(e.playersByRole).length?i("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[o.id]?e.playersByRole[o.id].join(", "):""))]):e._e(),i("span",{staticClass:"name"},[e._v(e._s(o.name))]),i("span",{staticClass:"ability"},[e._v(e._s(o.ability))])])])})),i("li",{class:[s]}),i("li",{class:[s]})],2)]):e._e(),"demon"===s?i("div",{staticClass:"team"},[i("aside",[i("h4",[e._v("demônio")])]),i("ul",[e._l(o,(function(o){return i("li",{key:o.id,class:[s]},[o.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.id)+".png"))+")"}}):e._e(),i("div",{staticClass:"role"},[Object.keys(e.playersByRole).length?i("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[o.id]?e.playersByRole[o.id].join(", "):""))]):e._e(),i("span",{staticClass:"name"},[e._v(e._s(o.name))]),i("span",{staticClass:"ability"},[e._v(e._s(o.ability))])])])})),i("li",{class:[s]}),i("li",{class:[s]})],2)]):e._e()])})),e.jinxed.length?i("div",{staticClass:"team jinxed"},[i("aside",[i("h4",[e._v("Jinxed")])]),i("ul",[e._l(e.jinxed,(function(o,s){return i("li",{key:s},[i("span",{staticClass:"icon",style:{backgroundImage:"url("+t("61b0")("./"+o.first.id+".png")+")"}}),i("span",{staticClass:"icon",style:{backgroundImage:"url("+t("61b0")("./"+o.second.id+".png")+")"}}),i("div",{staticClass:"role"},[i("span",{staticClass:"name"},[e._v(e._s(o.first.name)+" & "+e._s(o.second.name))]),i("span",{staticClass:"ability"},[e._v(e._s(o.reason))])])])})),i("li"),i("li")],2)]):e._e()],2):e._e()},we=[],xe={components:{Modal:O},computed:{jinxed:function(){const e=[];return this.roles.forEach(o=>{this.jinxes.get(o.id)&&this.jinxes.get(o.id).forEach((t,i)=>{this.roles.get(i)&&e.push({first:o,second:this.roles.get(i),reason:t})})}),e},rolesGrouped:function(){const e={};return this.roles.forEach(o=>{e[o.team]||(e[o.team]=[]),e[o.team].push(o)}),delete e["traveler"],e},playersByRole:function(){const e={};return this.players.forEach(({name:o,role:t})=>{t&&t.id&&"traveler"!==t.team&&(e[t.id]||(e[t.id]=[]),e[t.id].push(o))}),e},...Object(r["d"])(["roles","modals","edition","grimoire","jinxes"]),...Object(r["d"])("players",["players"])},methods:{...Object(r["c"])(["toggleModal"])}},Me=xe,Ce=(t("9376"),Object(f["a"])(Me,Re,we,!1,null,"e7a8ca6a",null)),Oe=Ce.exports,qe=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{attrs:{id:"vote"}},[i("div",{staticClass:"arrows"},[i("span",{staticClass:"nominee",style:e.nomineeStyle}),i("span",{staticClass:"nominator",style:e.nominatorStyle})]),i("div",{staticClass:"overlay"},[i("audio",{attrs:{src:t("f6a8"),preload:"auto"}}),i("em",{staticClass:"blue"},[e._v(e._s(e.nominator.name))]),e._v(" nomeou "),i("em",[e._v(e._s(e.nominee.name))]),e._v("! "),i("br"),i("em",{staticClass:"blue"},[e._v(" "+e._s(e.voters.length)+" vote"+e._s(1!==e.voters.length?"s":"")+" ")]),e._v(" em favor "),"traveler"!==e.nominee.role.team?i("em",[e._v(" (maioria é "+e._s(Math.ceil(e.alive/2))+") ")]):i("em",[e._v("(maioria é "+e._s(Math.ceil(e.players.length/2))+")")]),e.session.isSpectator?e.canVote?[e.session.isVoteInProgress?e._e():i("div",[e._v(" "+e._s(e.session.votingSpeed/1e3)+" seconds between votes ")]),i("div",{staticClass:"button-group"},[i("div",{staticClass:"button townsfolk",class:{disabled:!e.currentVote},on:{click:function(o){return e.vote(!1)}}},[e._v(" Contra ")]),i("div",{staticClass:"button demon",class:{disabled:e.currentVote},on:{click:function(o){return e.vote(!0)}}},[e._v(" A favor ")])])]:e.player?e._e():i("div",[e._v(" Please claim a seat to vote. ")]):[!e.session.isVoteInProgress&&e.session.lockedVote<1?i("div",[e._v(" Tempo por jogador: "),i("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{mousedown:function(o){return o.preventDefault(),e.setVotingSpeed(-500)}}}),e._v(" "+e._s(e.session.votingSpeed/1e3)+"s "),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{mousedown:function(o){return o.preventDefault(),e.setVotingSpeed(500)}}})],1):e._e(),i("div",{staticClass:"button-group"},[e.session.isVoteInProgress?e._e():i("div",{staticClass:"button townsfolk",on:{click:e.countdown}},[e._v(" Contagem ")]),e.session.isVoteInProgress?[i("div",{staticClass:"button townsfolk",class:{disabled:!e.session.lockedVote},on:{click:e.pause}},[e._v(" "+e._s(e.voteTimer?"Pause":"Resume")+" ")]),i("div",{staticClass:"button",on:{click:e.stop}},[e._v("Reiniciar")])]:i("div",{staticClass:"button",on:{click:e.start}},[e._v(" "+e._s(e.session.lockedVote?"Restart":"Start")+" ")]),i("div",{staticClass:"button demon",on:{click:e.finish}},[e._v("Fechar")])],2),"traveler"!==e.nominee.role.team?i("div",{staticClass:"button-group mark"},[i("div",{staticClass:"button",class:{disabled:e.session.nomination[1]===e.session.markedPlayer},on:{click:e.setMarked}},[e._v(" Marcar para execução ")]),i("div",{staticClass:"button",on:{click:e.removeMarked}},[e._v(" Limpar marca ")])]):e._e()]],2),i("transition",{attrs:{name:"blur"}},[e.session.isVoteInProgress&&!e.session.lockedVote?i("div",{staticClass:"countdown"},[i("span",[e._v("3")]),i("span",[e._v("2")]),i("span",[e._v("1")]),i("span",[e._v("GO")]),i("audio",{attrs:{autoplay:!e.grimoire.isMuted,src:t("f6a8"),muted:e.grimoire.isMuted}})]):e._e()])],1)},Ie=[],Ae={computed:{...Object(r["d"])("players",["players"]),...Object(r["d"])(["session","grimoire"]),...Object(r["b"])({alive:"players/alive"}),nominator:function(){return this.players[this.session.nomination[0]]},nominatorStyle:function(){const e=this.players.length,o=this.session.nomination[0];return{transform:`rotate(${Math.round(o/e*360)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},nominee:function(){return this.players[this.session.nomination[1]]},nomineeStyle:function(){const e=this.players.length,o=this.session.nomination[1],t=this.session.lockedVote,i=360*(o+Math.min(t,e))/e;return{transform:`rotate(${Math.round(i)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},player:function(){return this.players.find(e=>e.id===this.session.playerId)},currentVote:function(){const e=this.players.findIndex(e=>e.id===this.session.playerId);return e>=0?!!this.session.votes[e]:void 0},canVote:function(){if(!this.player)return!1;if(this.player.isVoteless&&"traveler"!==this.nominee.role.team)return!1;const e=this.session,o=this.players.length,t=this.players.indexOf(this.player),i=(t-1+o-e.nomination[1])%o;return i>=e.lockedVote-1},voters:function(){const e=this.session.nomination[1],o=Array(this.players.length).fill("").map((e,o)=>this.session.votes[o]?this.players[o].name:""),t=[...o.slice(e+1),...o.slice(0,e+1)];return(this.session.lockedVote?t.slice(0,this.session.lockedVote-1):t).filter(e=>!!e)}},data(){return{voteTimer:null}},methods:{countdown(){this.$store.commit("session/lockVote",0),this.$store.commit("session/setVoteInProgress",!0),this.voteTimer=setInterval(()=>{this.start()},4e3)},start(){this.$store.commit("session/lockVote",1),this.$store.commit("session/setVoteInProgress",!0),clearInterval(this.voteTimer),this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},pause(){this.voteTimer?(clearInterval(this.voteTimer),this.voteTimer=null):this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},stop(){clearInterval(this.voteTimer),this.voteTimer=null,this.$store.commit("session/setVoteInProgress",!1),this.$store.commit("session/lockVote",0)},finish(){clearInterval(this.voteTimer),this.$store.commit("session/addHistory",this.players),this.$store.commit("session/nomination")},vote(e){if(!this.canVote)return!1;const o=this.players.findIndex(e=>e.id===this.session.playerId);o>=0&&!!this.session.votes[o]!==e&&this.$store.commit("session/voteSync",[o,e])},setVotingSpeed(e){const o=Math.round(this.session.votingSpeed+e);o>0&&this.$store.commit("session/setVotingSpeed",o)},setMarked(){this.$store.commit("session/setMarkedPlayer",this.session.nomination[1])},removeMarked(){this.$store.commit("session/setMarkedPlayer",-1)}}},Pe=Ae,Ve=(t("b3a4"),Object(f["a"])(Pe,qe,Ie,!1,null,"13e94992",null)),Ee=Ve.exports,De=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"gradients"}},e._l(e.gradients,(function(e,o){return t("svg",{key:o,attrs:{width:"0",height:"0"}},[t("linearGradient",{attrs:{id:e[0],x1:"50%",y1:"100%",x2:"50%",y2:"0%"}},[t("stop",{style:{"stop-color":e[2],"stop-opacity":1},attrs:{offset:"0%"}}),t("stop",{style:{"stop-color":e[1],"stop-opacity":1},attrs:{offset:"100%"}})],1)],1)})),0)},ze=[],Le={data(){return{gradients:[["demon","#ce0100","#000"],["townsfolk","#1f65ff","#000"],["default","#4E4E4E","#000"]]}}},Te=Le,$e=(t("3f8f"),Object(f["a"])(Te,De,ze,!1,null,"1e202a64",null)),Fe=$e.exports,Be=function(){var e=this,o=e.$createElement,i=e._self._c||o;return e.modals.nightOrder&&e.roles.size?i("Modal",{staticClass:"night-reference",on:{close:function(o){return e.toggleModal("nightOrder")}}},[i("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"address-card",title:"Show Character Reference"},on:{click:function(o){return e.toggleModal("reference")}}}),i("h3",[e._v(" Ordem da Noite "),i("font-awesome-icon",{attrs:{icon:"cloud-moon"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),i("div",{staticClass:"night"},[i("ul",{staticClass:"first"},[i("li",{staticClass:"headline"},[e._v("Primeira Noite")]),e._l(e.rolesFirstNight,(function(o){return i("li",{key:o.name,class:[o.team]},[i("span",{staticClass:"name"},[e._v(" "+e._s(o.name)+" "),o.players.length?i("span",{staticClass:"player"},[i("br"),e._l(o.players,(function(t,s){return i("small",{key:s,class:{dead:t.isDead}},[e._v(e._s(t.name+(o.players.length>s+1?",":"")))])}))],2):e._e()]),o.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.id)+".png"))+")"}}):e._e(),o.firstNightReminder?i("span",{staticClass:"reminder"},[e._v(" "+e._s(o.firstNightReminder)+" ")]):e._e()])}))],2),i("ul",{staticClass:"other"},[i("li",{staticClass:"headline"},[e._v("Outras Noites")]),e._l(e.rolesOtherNight,(function(o){return i("li",{key:o.name,class:[o.team]},[o.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image&&e.grimoire.isImageOptIn?o.image:t("61b0")("./"+(o.imageAlt||o.id)+".png"))+")"}}):e._e(),i("span",{staticClass:"name"},[e._v(" "+e._s(o.name)+" "),o.players.length?i("span",{staticClass:"player"},[i("br"),e._l(o.players,(function(t,s){return i("small",{key:s,class:{dead:t.isDead}},[e._v(e._s(t.name+(o.players.length>s+1?",":"")))])}))],2):e._e()]),o.otherNightReminder?i("span",{staticClass:"reminder"},[e._v(" "+e._s(o.otherNightReminder)+" ")]):e._e()])}))],2)])],1):e._e()},He=[],Ge={components:{Modal:O},computed:{rolesFirstNight:function(){const e=[];return this.players.length>6&&e.push({id:"evil",name:"Informação do Lacaio",firstNight:5,team:"minion",players:this.players.filter(e=>"minion"===e.role.team),firstNightReminder:"• Se houver mais de um Minion, todos eles farão contato visual uns com os outros. • Mostre a carta 'Este é o Demônio'. Aponte para o Demônio."},{id:"evil",name:"Informação do Demônio & blefe",firstNight:8,team:"demon",players:this.players.filter(e=>"demon"===e.role.team),firstNightReminder:"• Mostre a carta 'Estes são seus lacaios'. Aponte para cada Lacaio. • Mostre a carta 'Esses personagens não estão em jogo'. Mostre 3 fichas de personagens bons que não estão em jogo."}),this.roles.forEach(o=>{const t=this.players.filter(e=>e.role.id===o.id);o.firstNight&&("traveler"!==o.team||t.length)&&e.push(Object.assign({players:t},o))}),this.fabled.filter(({firstNight:e})=>e).forEach(o=>{e.push(Object.assign({players:[]},o))}),e.sort((e,o)=>e.firstNight-o.firstNight),e},rolesOtherNight:function(){const e=[];return this.roles.forEach(o=>{const t=this.players.filter(e=>e.role.id===o.id);o.otherNight&&("traveler"!==o.team||t.length)&&e.push(Object.assign({players:t},o))}),this.fabled.filter(({otherNight:e})=>e).forEach(o=>{e.push(Object.assign({players:[]},o))}),e.sort((e,o)=>e.otherNight-o.otherNight),e},...Object(r["d"])(["roles","modals","edition","grimoire"]),...Object(r["d"])("players",["players","fabled"])},methods:{...Object(r["c"])(["toggleModal"])}},Ue=Ge,Je=(t("6c0f"),Object(f["a"])(Ue,Be,He,!1,null,"c8d3aca0",null)),We=Je.exports,Qe=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.fabled&&e.fabled.length?t("Modal",{on:{close:function(o){return e.toggleModal("fabled")}}},[t("h3",[e._v(" Escolha um personagem lenda para adicionar ao jogo ")]),t("ul",{staticClass:"tokens"},e._l(e.fabled,(function(o){return t("li",{key:o.id,on:{click:function(t){return e.setFabled(o)}}},[t("Token",{attrs:{role:o}})],1)})),0)]):e._e()},Ze=[],Ke={components:{Token:v,Modal:O},computed:{...Object(r["d"])(["modals","fabled","grimoire"]),fabled(){const e=[];return this.$store.state.fabled.forEach(o=>{this.$store.state.players.fabled.some(e=>e.id===o.id)||e.push(o)}),e}},methods:{setFabled(e){this.$store.commit("players/setFabled",{fabled:e}),this.$store.commit("toggleModal","fabled")},...Object(r["c"])(["toggleModal"])}},Ye=Ke,Xe=(t("95f0"),Object(f["a"])(Ye,Qe,Ze,!1,null,"69784214",null)),eo=Xe.exports,oo=function(){var e=this,o=e.$createElement,t=e._self._c||o;return!e.modals.voteHistory||!e.session.voteHistory&&e.session.isSpectator?e._e():t("Modal",{staticClass:"vote-history",on:{close:function(o){return e.toggleModal("voteHistory")}}},[e.session.isSpectator?t("font-awesome-icon",{staticClass:"clear",attrs:{icon:"trash-alt",title:"Clear vote history"},on:{click:e.clearVoteHistory}}):e._e(),t("h3",[e._v("Histórico de Votação")]),e.session.isSpectator?e._e():[t("div",{staticClass:"options"},[t("div",{staticClass:"option",on:{click:e.setRecordVoteHistory}},[t("font-awesome-icon",{attrs:{icon:["fas",e.session.isVoteHistoryAllowed?"check-square":"square"]}}),e._v(" Acessivel aos jogadores ")],1),t("div",{staticClass:"option",on:{click:e.clearVoteHistory}},[t("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e._v(" Limpar para todos ")],1)])],t("table",[t("thead",[t("tr",[t("td",[e._v("Tempo")]),t("td",[e._v("Nomeador")]),t("td",[e._v("Nomeado")]),t("td",[e._v("Tipo")]),t("td",[e._v("Votos")]),t("td",[e._v("Maioria")]),t("td",[t("font-awesome-icon",{attrs:{icon:"user-friends"}}),e._v(" A favor ")],1)])]),t("tbody",e._l(e.session.voteHistory,(function(o,i){return t("tr",{key:i},[t("td",[e._v(" "+e._s(o.timestamp.getHours().toString().padStart(2,"0"))+":"+e._s(o.timestamp.getMinutes().toString().padStart(2,"0"))+" ")]),t("td",[e._v(e._s(o.nominator))]),t("td",[e._v(e._s(o.nominee))]),t("td",[e._v(e._s(o.type))]),t("td",[e._v(" "+e._s(o.votes.length)+" "),t("font-awesome-icon",{attrs:{icon:"hand-paper"}})],1),t("td",[e._v(" "+e._s(o.majority)+" "),t("font-awesome-icon",{attrs:{icon:["fas",o.votes.length>=o.majority?"check-square":"square"]}})],1),t("td",[e._v(" "+e._s(o.votes.join(", "))+" ")])])})),0)])],2)},to=[],io={components:{Modal:O},computed:{...Object(r["d"])(["session","modals"])},methods:{clearVoteHistory(){this.$store.commit("session/clearVoteHistory")},setRecordVoteHistory(){this.$store.commit("session/setVoteHistoryAllowed",!this.session.isVoteHistoryAllowed)},...Object(r["c"])(["toggleModal"])}},so=io,ao=(t("722c"),Object(f["a"])(so,oo,to,!1,null,"4a26d86d",null)),ro=ao.exports,no=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.gameState?t("Modal",{staticClass:"game-state",on:{close:function(o){return e.toggleModal("gameState")}}},[t("h3",[e._v("Estado do jogo atual")]),t("textarea",{domProps:{value:e.gamestate},on:{input:function(o){o.stopPropagation(),e.input=o.target.value},click:function(e){return e.target.select()},keyup:function(e){e.stopPropagation()}}}),t("div",{staticClass:"button-group"},[t("div",{staticClass:"button townsfolk",on:{click:e.copy}},[t("font-awesome-icon",{attrs:{icon:"copy"}}),e._v(" Copiar JSON ")],1),e.session.isSpectator?e._e():t("div",{staticClass:"button demon",on:{click:e.load}},[t("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Carregar ")],1)])]):e._e()},mo=[],lo={components:{Modal:O},computed:{gamestate:function(){return JSON.stringify({bluffs:this.players.bluffs.map(({id:e})=>e),edition:this.edition.isOfficial?{id:this.edition.id}:this.edition,roles:this.edition.isOfficial?"":this.$store.getters.customRolesStripped,fabled:this.players.fabled.map(({id:e})=>e),players:this.players.players.map(e=>({...e,role:e.role.id||{}}))})},...Object(r["d"])(["modals","players","edition","roles","session"])},data(){return{input:""}},methods:{copy:function(){navigator.clipboard.writeText(this.input||this.gamestate)},load:function(){if(!this.session.isSpectator)try{const e=JSON.parse(this.input||this.gamestate),{bluffs:o,edition:t,roles:i,fabled:s,players:a}=e;i&&this.$store.commit("setCustomRoles",i),t&&this.$store.commit("setEdition",t),o.length&&o.forEach((e,o)=>{this.$store.commit("players/setBluff",{index:o,role:this.$store.state.roles.get(e)||{}})}),s&&this.$store.commit("players/setFabled",{fabled:s.map(e=>this.$store.state.fabled.get(e))}),a&&this.$store.commit("players/set",a.map(e=>({...e,role:this.$store.state.roles.get(e.role)||this.$store.getters.rolesJSONbyId.get(e.role)||{}}))),this.toggleModal("gameState")}catch(e){alert("Unable to parse JSON: "+e)}},...Object(r["c"])(["toggleModal"])}},co=lo,go=(t("849e"),Object(f["a"])(co,no,mo,!1,null,"09ea3ca8",null)),po=go.exports,ho={components:{GameStateModal:po,VoteHistoryModal:ro,FabledModal:eo,NightOrderModal:We,Vote:Ee,ReferenceModal:Oe,Intro:Se,TownInfo:Y,TownSquare:G,Menu:se,EditionModal:ve,RolesModal:ce,Gradients:Fe},computed:{...Object(r["d"])(["grimoire","session"]),...Object(r["d"])("players",["players"])},data(){return{version:n["a"]}},methods:{keyup({key:e,ctrlKey:o,metaKey:t}){if(!o&&!t)switch(e.toLocaleLowerCase()){case"g":this.$store.commit("toggleGrimoire");break;case"a":this.$refs.menu.addPlayer();break;case"h":this.$refs.menu.hostSession();break;case"j":this.$refs.menu.joinSession();break;case"r":this.$store.commit("toggleModal","reference");break;case"n":this.$store.commit("toggleModal","nightOrder");break;case"e":if(this.session.isSpectator)return;this.$store.commit("toggleModal","edition");break;case"c":if(this.session.isSpectator)return;this.$store.commit("toggleModal","roles");break;case"v":!this.session.voteHistory.length&&this.session.isSpectator||this.$store.commit("toggleModal","voteHistory");break;case"s":if(this.session.isSpectator)return;this.$refs.menu.toggleNight();break;case"escape":this.$store.commit("toggleModal")}}}},uo=ho,fo=(t("5c0b"),Object(f["a"])(uo,s,a,!1,null,null,null)),bo=fo.exports,vo=t("dfb1"),yo=t.n(vo);class No{constructor(e){this._wss="wss://live.clocktower.online:8080/",this._socket=null,this._isSpectator=!0,this._gamestate=[],this._store=e,this._pingInterval=3e4,this._pingTimer=null,this._reconnectTimer=null,this._players={},this._pings={},this._store.state.session.sessionId&&this.connect(this._store.state.session.sessionId)}_open(e){this.disconnect(),this._socket=new WebSocket(this._wss+e+"/"+(this._isSpectator?this._store.state.session.playerId:"host")),this._socket.addEventListener("message",this._handleMessage.bind(this)),this._socket.onopen=this._onOpen.bind(this),this._socket.onclose=o=>{this._socket=null,clearInterval(this._pingTimer),this._pingTimer=null,1e3!==o.code?(this._store.commit("session/setReconnecting",!0),this._reconnectTimer=setTimeout(()=>this.connect(e),3e3)):(this._store.commit("session/setSessionId",""),o.reason&&alert(o.reason))}}_send(e,o){this._socket&&1===this._socket.readyState&&this._socket.send(JSON.stringify([e,o]))}_sendDirect(e,o,t){e?this._send("direct",{[e]:[o,t]}):this._send(o,t)}_onOpen(){this._isSpectator?this._sendDirect("host","getGamestate",this._store.state.session.playerId):this.sendGamestate(),this._ping()}_ping(){this._handlePing(),this._send("ping",[this._isSpectator?this._store.state.session.playerId:Object.keys(this._players).length,"latency"]),clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this._ping.bind(this),this._pingInterval)}_handleMessage({data:e}){let o,t;try{[o,t]=JSON.parse(e)}catch(i){console.log("unsupported socket message",e)}switch(o){case"getGamestate":this.sendGamestate(t);break;case"edition":this._updateEdition(t);break;case"fabled":this._updateFabled(t);break;case"gs":this._updateGamestate(t);break;case"player":this._updatePlayer(t);break;case"claim":this._updateSeat(t);break;case"ping":this._handlePing(t);break;case"nomination":if(!this._isSpectator)return;t||this._store.commit("session/addHistory",this._store.state.players.players),this._store.commit("session/nomination",{nomination:t});break;case"swap":if(!this._isSpectator)return;this._store.commit("players/swap",t);break;case"move":if(!this._isSpectator)return;this._store.commit("players/move",t);break;case"remove":if(!this._isSpectator)return;this._store.commit("players/remove",t);break;case"marked":if(!this._isSpectator)return;this._store.commit("session/setMarkedPlayer",t);break;case"isNight":if(!this._isSpectator)return;this._store.commit("toggleNight",t);break;case"isVoteHistoryAllowed":if(!this._isSpectator)return;this._store.commit("session/setVoteHistoryAllowed",t),this._store.commit("session/clearVoteHistory");break;case"votingSpeed":if(!this._isSpectator)return;this._store.commit("session/setVotingSpeed",t);break;case"clearVoteHistory":if(!this._isSpectator)return;this._store.commit("session/clearVoteHistory");break;case"isVoteInProgress":if(!this._isSpectator)return;this._store.commit("session/setVoteInProgress",t);break;case"vote":this._handleVote(t);break;case"lock":this._handleLock(t);break;case"bye":this._handleBye(t);break;case"pronouns":this._updatePlayerPronouns(t);break}}connect(e){this._store.state.session.playerId||this._store.commit("session/setPlayerId",Math.random().toString(36).substr(2)),this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._isSpectator=this._store.state.session.isSpectator,this._open(e)}disconnect(){this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._store.commit("session/setReconnecting",!1),clearTimeout(this._reconnectTimer),this._socket&&(this._isSpectator&&this._sendDirect("host","bye",this._store.state.session.playerId),this._socket.close(1e3),this._socket=null)}sendGamestate(e="",o=!1){if(!this._isSpectator)if(this._gamestate=this._store.state.players.players.map(e=>({name:e.name,id:e.id,isDead:e.isDead,isVoteless:e.isVoteless,pronouns:e.pronouns,...e.role&&"traveler"===e.role.team?{roleId:e.role.id}:{}})),o)this._sendDirect(e,"gs",{gamestate:this._gamestate,isLightweight:o});else{const{session:o,grimoire:t}=this._store.state,{fabled:i}=this._store.state.players;this.sendEdition(e),this._sendDirect(e,"gs",{gamestate:this._gamestate,isNight:t.isNight,isVoteHistoryAllowed:o.isVoteHistoryAllowed,nomination:o.nomination,votingSpeed:o.votingSpeed,lockedVote:o.lockedVote,isVoteInProgress:o.isVoteInProgress,markedPlayer:o.markedPlayer,fabled:i.map(e=>e.isCustom?e:{id:e.id}),...o.nomination?{votes:o.votes}:{}})}}_updateGamestate(e){if(!this._isSpectator)return;const{gamestate:o,isLightweight:t,isNight:i,isVoteHistoryAllowed:s,nomination:a,votingSpeed:r,votes:n,lockedVote:d,isVoteInProgress:m,markedPlayer:l,fabled:c}=e,g=this._store.state.players.players;if(g.length<o.length)for(let p=g.length;p<o.length;p++)this._store.commit("players/add",o[p].name);else if(g.length>o.length)for(let p=g.length;p>o.length;p--)this._store.commit("players/remove",p-1);o.forEach((e,o)=>{const t=g[o],{roleId:i}=e;if(["name","id","isDead","isVoteless","pronouns"].forEach(o=>{const i=e[o];t[o]!==i&&this._store.commit("players/update",{player:t,property:o,value:i})}),i&&t.role.id!==i){const e=this._store.state.roles.get(i)||this._store.getters.rolesJSONbyId.get(i);e&&this._store.commit("players/update",{player:t,property:"role",value:e})}else i||"traveler"!==t.role.team||this._store.commit("players/update",{player:t,property:"role",value:{}})}),t||(this._store.commit("toggleNight",!!i),this._store.commit("session/setVoteHistoryAllowed",s),this._store.commit("session/nomination",{nomination:a,votes:n,votingSpeed:r,lockedVote:d,isVoteInProgress:m}),this._store.commit("session/setMarkedPlayer",l),this._store.commit("players/setFabled",{fabled:c.map(e=>this._store.state.fabled.get(e.id)||e)}))}sendEdition(e=""){if(this._isSpectator)return;const{edition:o}=this._store.state;let t;o.isOfficial||(t=this._store.getters.customRolesStripped),this._sendDirect(e,"edition",{edition:o.isOfficial?{id:o.id}:o,...t?{roles:t}:{}})}_updateEdition({edition:e,roles:o}){if(this._isSpectator&&(this._store.commit("setEdition",e),o&&(this._store.commit("setCustomRoles",o),this._store.state.roles.size!==o.length))){const e=[];o.forEach(({id:o})=>{this._store.state.roles.get(o)||e.push(o)}),alert("This session contains custom characters that can't be found. Please load them before joining! Missing roles: "+e.join(", ")),this.disconnect(),this._store.commit("toggleModal","edition")}}sendFabled(){if(this._isSpectator)return;const{fabled:e}=this._store.state.players;this._send("fabled",e.map(e=>e.isCustom?e:{id:e.id}))}_updateFabled(e){this._isSpectator&&this._store.commit("players/setFabled",{fabled:e.map(e=>this._store.state.fabled.get(e.id)||e)})}sendPlayer({player:e,property:o,value:t}){if(this._isSpectator||"reminders"===o)return;const i=this._store.state.players.players.indexOf(e);"role"===o?t.team&&"traveler"===t.team?(this._gamestate[i].roleId=t.id,this._send("player",{index:i,property:o,value:t.id})):this._gamestate[i].roleId&&(delete this._gamestate[i].roleId,this._send("player",{index:i,property:o,value:""})):this._send("player",{index:i,property:o,value:t})}_updatePlayer({index:e,property:o,value:t}){if(!this._isSpectator)return;const i=this._store.state.players.players[e];if(i)if("role"===o)if(t||"traveler"!==i.role.team){const e=this._store.state.roles.get(t)||this._store.getters.rolesJSONbyId.get(t)||{};this._store.commit("players/update",{player:i,property:"role",value:e})}else this._store.commit("players/update",{player:i,property:"role",value:{}});else this._store.commit("players/update",{player:i,property:o,value:t})}sendPlayerPronouns({player:e,value:o,isFromSockets:t}){if(t||this._isSpectator&&this._store.state.session.playerId!==e.id)return;const i=this._store.state.players.players.indexOf(e);this._send("pronouns",[i,o])}_updatePlayerPronouns([e,o]){const t=this._store.state.players.players[e];this._store.commit("players/update",{player:t,property:"pronouns",value:o,isFromSockets:!0})}_handlePing([e=0,o]=[]){const t=(new Date).getTime();if(this._isSpectator)o&&this._store.commit("session/setPing",parseInt(o,10));else{for(let e in this._players)t-this._players[e]>2*this._pingInterval&&(delete this._players[e],delete this._pings[e]);if(this._store.state.players.players.forEach(e=>{e.id&&!this._players[e.id]&&this._store.commit("players/update",{player:e,property:"id",value:""})}),e){this._players[e]=t;const i=parseInt(o,10);if(i&&i>0&&i<3e4){this._pings[e]=i;const o=Object.values(this._pings);this._store.commit("session/setPing",Math.round(o.reduce((e,o)=>e+o,0)/o.length))}}}this._isSpectator&&!e||this._store.commit("session/setPlayerCount",this._isSpectator?e:Object.keys(this._players).length)}_handleBye(e){this._isSpectator||(delete this._players[e],this._store.commit("session/setPlayerCount",Object.keys(this._players).length))}claimSeat(e){if(!this._isSpectator)return;const o=this._store.state.players.players;o.length>e&&(e<0||!o[e].id)&&this._send("claim",[e,this._store.state.session.playerId])}_updateSeat([e,o]){if(this._isSpectator)return;const t="id",i=this._store.state.players.players,s=i.findIndex(({id:e})=>e===o);if(s>=0&&s!==e&&this._store.commit("players/update",{player:i[s],property:t,value:""}),e>=0){const s=i[e];if(!s)return;this._store.commit("players/update",{player:s,property:t,value:o})}this._handlePing([!0,o,0])}distributeRoles(){if(this._isSpectator)return;const e={};this._store.state.players.players.forEach((o,t)=>{o.id&&o.role&&(e[o.id]=["player",{index:t,property:"role",value:o.role.id}])}),Object.keys(e).length&&this._send("direct",e)}nomination(e){if(this._isSpectator)return;const o=e&&e.nomination||e,t=this._store.state.players.players;(!o||t.length>o[0]&&t.length>o[1])&&(this.setVotingSpeed(this._store.state.session.votingSpeed),this._send("nomination",o))}setVoteInProgress(){this._isSpectator||this._send("isVoteInProgress",this._store.state.session.isVoteInProgress)}setIsNight(){this._isSpectator||this._send("isNight",this._store.state.grimoire.isNight)}setVoteHistoryAllowed(){this._isSpectator||this._send("isVoteHistoryAllowed",this._store.state.session.isVoteHistoryAllowed)}setVotingSpeed(e){this._isSpectator||e&&this._send("votingSpeed",e)}setMarked(e){this._isSpectator||this._send("marked",e)}clearVoteHistory(){this._isSpectator||this._send("clearVoteHistory")}vote([e]){const o=this._store.state.players.players[e];this._store.state.session.playerId!==o.id&&this._isSpectator||this._send("vote",[e,this._store.state.session.votes[e],!this._isSpectator])}_handleVote([e,o,t]){const{session:i,players:s}=this._store.state,a=s.players.length,r=(e-1+a-i.nomination[1])%a;(t||r>=i.lockedVote-1)&&this._store.commit("session/vote",[e,o])}lockVote(){if(this._isSpectator)return;const{lockedVote:e,votes:o,nomination:t}=this._store.state.session,{players:i}=this._store.state.players,s=(t[1]+e-1)%i.length;this._send("lock",[this._store.state.session.lockedVote,o[s]])}_handleLock([e,o]){if(this._isSpectator&&(this._store.commit("session/lockVote",e),e>1)){const{lockedVote:e,nomination:t}=this._store.state.session,{players:i}=this._store.state.players,s=(t[1]+e-1)%i.length;this._store.state.session.votes[s]!==o&&this._store.commit("session/vote",[s,o])}}swapPlayer(e){this._isSpectator||this._send("swap",e)}movePlayer(e){this._isSpectator||this._send("move",e)}removePlayer(e){this._isSpectator||this._send("remove",e)}}var _o=e=>{const o=new No(e);e.subscribe(({type:e,payload:t},i)=>{switch(e){case"session/setSessionId":i.session.sessionId?o.connect(i.session.sessionId):(window.location.hash="",o.disconnect());break;case"session/claimSeat":o.claimSeat(t);break;case"session/distributeRoles":t&&o.distributeRoles();break;case"session/nomination":case"session/setNomination":o.nomination(t);break;case"session/setVoteInProgress":o.setVoteInProgress(t);break;case"session/voteSync":o.vote(t);break;case"session/lockVote":o.lockVote();break;case"session/setVotingSpeed":o.setVotingSpeed(t);break;case"session/clearVoteHistory":o.clearVoteHistory();break;case"session/setVoteHistoryAllowed":o.setVoteHistoryAllowed();break;case"toggleNight":o.setIsNight();break;case"setEdition":o.sendEdition();break;case"players/setFabled":o.sendFabled();break;case"session/setMarkedPlayer":o.setMarked(t);break;case"players/swap":o.swapPlayer(t);break;case"players/move":o.movePlayer(t);break;case"players/remove":o.removePlayer(t);break;case"players/set":case"players/clear":case"players/add":o.sendGamestate("",!0);break;case"players/update":"pronouns"===t.property?o.sendPlayerPronouns(t):o.sendPlayer(t);break}});const t=window.location.hash.substr(1);t&&(e.commit("session/setSpectator",!0),e.commit("session/setSessionId",t),e.commit("toggleGrimoire",!1))};const ko={name:"",id:"",role:{},reminders:[],isVoteless:!1,isDead:!1,pronouns:""},jo=()=>({players:[],fabled:[],bluffs:[]}),So={alive({players:e}){return e.filter(e=>!e.isDead).length},nonTravelers({players:e}){const o=e.filter(e=>"traveler"!==e.role.team);return Math.min(o.length,15)},nightOrder({players:e,fabled:o}){const t=[0],i=[0];e.forEach(({role:e})=>{e.firstNight&&!t.includes(e.firstNight)&&t.push(e.firstNight),e.otherNight&&!i.includes(e.otherNight)&&i.push(e.otherNight)}),o.forEach(e=>{e.firstNight&&!t.includes(e.firstNight)&&t.push(e.firstNight),e.otherNight&&!i.includes(e.otherNight)&&i.push(e.otherNight)}),t.sort((e,o)=>e-o),i.sort((e,o)=>e-o);const s=new Map;return e.forEach(e=>{const o=Math.max(t.indexOf(e.role.firstNight),0),a=Math.max(i.indexOf(e.role.otherNight),0);s.set(e,{first:o,other:a})}),o.forEach(e=>{const o=Math.max(t.indexOf(e.firstNight),0),a=Math.max(i.indexOf(e.otherNight),0);s.set(e,{first:o,other:a})}),s}},Ro={randomize({state:e,commit:o}){const t=e.players.map(e=>[Math.random(),e]).sort((e,o)=>e[0]-o[0]).map(e=>e[1]);o("set",t)},clearRoles({state:e,commit:o,rootState:t}){let i;t.session.isSpectator?i=e.players.map(e=>("traveler"!==e.role.team&&(e.role={}),e.reminders=[],e)):(i=e.players.map(({name:e,id:o,pronouns:t})=>({...ko,name:e,id:o,pronouns:t})),o("setFabled",{fabled:[]})),o("set",i),o("setBluff")}},wo={clear(e){e.players=[],e.bluffs=[],e.fabled=[]},set(e,o=[]){e.players=o},update(e,{player:o,property:t,value:i}){const s=e.players.indexOf(o);s>=0&&(e.players[s][t]=i)},add(e,o){e.players.push({...ko,name:o})},remove(e,o){e.players.splice(o,1)},swap(e,[o,t]){[e.players[o],e.players[t]]=[e.players[t],e.players[o]],e.players.splice(0,0)},move(e,[o,t]){e.players.splice(t,0,e.players.splice(o,1)[0])},setBluff(e,{index:o,role:t}={}){void 0!==o?e.bluffs.splice(o,1,t):e.bluffs=[]},setFabled(e,{index:o,fabled:t}={}){void 0!==o?e.fabled.splice(o,1):t&&(Array.isArray(t)?e.fabled=t:e.fabled.push(t))}};var xo={namespaced:!0,state:jo,getters:So,actions:Ro,mutations:wo};const Mo=(e,[o,t])=>{e.nomination&&(e.votes=[...e.votes],e.votes[o]=void 0===t?!e.votes[o]:t)},Co=()=>({sessionId:"",isSpectator:!1,isReconnecting:!1,playerCount:0,ping:0,playerId:"",claimedSeat:-1,nomination:!1,votes:[],lockedVote:0,votingSpeed:3e3,isVoteInProgress:!1,voteHistory:[],markedPlayer:-1,isVoteHistoryAllowed:!0,isRolesDistributed:!1}),Oo={},qo={},Io=e=>(o,t)=>{o[e]=t},Ao={setPlayerId:Io("playerId"),setSpectator:Io("isSpectator"),setReconnecting:Io("isReconnecting"),setPlayerCount:Io("playerCount"),setPing:Io("ping"),setVotingSpeed:Io("votingSpeed"),setVoteInProgress:Io("isVoteInProgress"),setMarkedPlayer:Io("markedPlayer"),setNomination:Io("nomination"),setVoteHistoryAllowed:Io("isVoteHistoryAllowed"),claimSeat:Io("claimedSeat"),distributeRoles:Io("isRolesDistributed"),setSessionId(e,o){e.sessionId=o.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substr(0,10)},nomination(e,{nomination:o,votes:t,votingSpeed:i,lockedVote:s,isVoteInProgress:a}={}){e.nomination=o||!1,e.votes=t||[],e.votingSpeed=i||e.votingSpeed,e.lockedVote=s||0,e.isVoteInProgress=a||!1},addHistory(e,o){if(!e.isVoteHistoryAllowed&&e.isSpectator)return;if(!e.nomination||e.lockedVote<=o.length)return;const t="traveler"===o[e.nomination[1]].role.team;e.voteHistory.push({timestamp:new Date,nominator:o[e.nomination[0]].name,nominee:o[e.nomination[1]].name,type:t?"Exile":"Execution",majority:Math.ceil(o.filter(e=>!e.isDead||t).length/2),votes:o.filter((o,t)=>e.votes[t]).map(({name:e})=>e)})},clearVoteHistory(e){e.voteHistory=[]},vote:Mo,voteSync:Mo,lockVote(e,o){e.lockedVote=void 0!==o?o:e.lockedVote+1}};var Po={namespaced:!0,state:Co,getters:Oo,actions:qo,mutations:Ao},Vo=t("b1d9"),Eo=t("b249"),Do=t("c825");i["a"].use(r["a"]);const zo=(e=he[0])=>new Map(Vo.filter(o=>o.edition===e.id||e.roles.includes(o.id)).sort((e,o)=>o.team.localeCompare(e.team)).map(e=>[e.id,e])),Lo=(e=he[0])=>new Map(Vo.filter(o=>"traveler"===o.team&&o.edition!==e.id&&!e.roles.includes(o.id)).map(e=>[e.id,e])),To=e=>({grimoire:o},t)=>{o[e]=t},$o=e=>({grimoire:o},t)=>{o[e]=!0===t||!1===t?t:!o[e]},Fo=e=>e.toLocaleLowerCase().replace(/[^a-z0-9]/g,""),Bo=new Map(he.map(e=>[e.id,e])),Ho=new Map(Vo.map(e=>[e.id,e])),Go=new Map(Eo.map(e=>[e.id,e]));let Uo={};try{Uo=new Map(Do.map(({id:e,hatred:o})=>[Fo(e),new Map(o.map(({id:e,reason:o})=>[Fo(e),o]))]))}catch(ot){console.error("couldn't load jinxes",ot)}const Jo={id:"",name:"",image:"",ability:"",edition:"custom",firstNight:0,firstNightReminder:"",otherNight:0,otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,team:"townsfolk",isCustom:!0};var Wo=new r["a"].Store({modules:{players:xo,session:Po},state:{grimoire:{isNight:!1,isNightOrder:!0,isPublic:!0,isMenuOpen:!1,isStatic:!1,isMuted:!1,isImageOptIn:!1,zoom:0,background:""},modals:{edition:!1,fabled:!1,gameState:!1,nightOrder:!1,reference:!1,reminder:!1,role:!1,roles:!1,voteHistory:!1},edition:Bo.get("tb"),roles:zo(),otherTravelers:Lo(),fabled:Go,jinxes:Uo},getters:{customRolesStripped:({roles:e})=>{const o=[],t=Object.keys(Jo),i=["firstNightReminder","otherNightReminder","isCustom"];return e.forEach(e=>{if(e.isCustom){const s={};for(let o in e){if(i.includes(o))continue;const a=e[o];t.includes(o)&&a!==Jo[o]&&(s[t.indexOf(o)]=a)}o.push(s)}else o.push({id:e.id})}),o},rolesJSONbyId:()=>Ho},mutations:{setZoom:To("zoom"),setBackground:To("background"),toggleMuted:$o("isMuted"),toggleMenu:$o("isMenuOpen"),toggleNightOrder:$o("isNightOrder"),toggleStatic:$o("isStatic"),toggleNight:$o("isNight"),toggleGrimoire:$o("isPublic"),toggleImageOptIn:$o("isImageOptIn"),toggleModal({modals:e},o){o&&(e[o]=!e[o]);for(let t in e)t!==o&&(e[t]=!1)},setCustomRoles(e,o){const t=o.map(e=>{if(e[0]){const o=Object.keys(Jo),t={};for(let i in e)o[i]&&(t[o[i]]=e[i]);return t}return e}).map(e=>(e.id=Fo(e.id),e)).map(o=>Ho.get(o.id)||e.roles.get(o.id)||Object.assign({},Jo,o)).map(e=>(Ho.get(e.id)||(e.imageAlt={townsfolk:"good",outsider:"outsider",minion:"minion",demon:"evil",fabled:"fabled"}[e.team]||"custom",e.firstNight=Math.abs(e.firstNight),e.otherNight=Math.abs(e.otherNight)),e)).filter(e=>e.name&&e.ability&&e.team).sort((e,o)=>o.team.localeCompare(e.team));e.roles=new Map(t.filter(e=>"fabled"!==e.team).map(e=>[e.id,e])),e.fabled=new Map([...t.filter(e=>"fabled"===e.team).map(e=>[e.id,e]),...Eo.map(e=>[e.id,e])]),e.otherTravelers=new Map(Vo.filter(e=>"traveler"===e.team&&!o.some(o=>o.id===e.id)).map(e=>[e.id,e]))},setEdition(e,o){Bo.has(o.id)?(e.edition=Bo.get(o.id),e.roles=zo(e.edition),e.otherTravelers=Lo(e.edition)):e.edition=o,e.modals.edition=!1}},plugins:[yo.a,_o]}),Qo=t("ecee"),Zo=t("c074"),Ko=t("f2d1"),Yo=t("ad3d");const Xo=["AddressCard","BookOpen","BookDead","BroadcastTower","Chair","CheckSquare","CloudMoon","Cog","Copy","Dice","Dragon","ExchangeAlt","ExclamationTriangle","FileCode","FileUpload","HandPaper","HandPointRight","Heartbeat","Image","Link","MinusCircle","PeopleArrows","PlusCircle","Question","Random","RedoAlt","SearchMinus","SearchPlus","Skull","Square","TheaterMasks","Times","TimesCircle","TrashAlt","Undo","User","UserEdit","UserFriends","Users","VenusMars","VolumeUp","VolumeMute","VoteYea","WindowMaximize","WindowMinimize"],et=["Github","Discord"];Qo["c"].add(...Xo.map(e=>Zo["a"]["fa"+e]),...et.map(e=>Ko["a"]["fa"+e])),i["a"].component("font-awesome-icon",Yo["a"]),i["a"].config.productionTip=!1,new i["a"]({render:e=>e(bo),store:Wo}).$mount("#app")},5720:function(e,o,t){"use strict";t("50d1")},5740:function(e,o,t){e.exports=t.p+"img/riot.a2890eee.png"},"5ae2":function(e,o,t){},"5b44":function(e,o,t){e.exports=t.p+"img/fabled.227b24f9.png"},"5bd9":function(e,o,t){e.exports=t.p+"img/cannibal.54808c1a.png"},"5c0b":function(e,o,t){"use strict";t("9c0c")},"5c56":function(e,o,t){e.exports=t.p+"img/duchess.f8361787.png"},"5c8e":function(e,o,t){e.exports=t.p+"img/goblin.ec4fe0e0.png"},"5cf2":function(e,o,t){e.exports=t.p+"img/x.d2209023.png"},"5f4e":function(e,o,t){e.exports=t.p+"img/tb-minion.b01c557e.png"},"61b0":function(e,o,t){var i={"./acrobat.png":"887b","./alchemist.png":"dbe8","./alhadikhia.png":"9989","./amnesiac.png":"043b","./angel.png":"bfe2","./apprentice.png":"4bea","./artist.png":"2cd0","./assassin.png":"9187","./atheist.png":"ca7a","./balloonist.png":"65db","./barber.png":"fcc6","./barista.png":"027a","./baron.png":"24d3","./beggar.png":"cfcc","./bishop.png":"8030","./bonecollector.png":"23b1","./boomdandy.png":"aae9","./bountyhunter.png":"899d","./buddhist.png":"1d01","./bureaucrat.png":"25f6","./butcher.png":"37dd","./butler.png":"64fe","./cannibal.png":"5bd9","./cerenovus.png":"0436","./chambermaid.png":"125e","./chef.png":"1e83","./choirboy.png":"d6bc","./clockmaker.png":"f93f","./courtier.png":"ee02","./cultleader.png":"398f","./custom.png":"fd83","./damsel.png":"72d7","./deusexfiasco.png":"9002","./deviant.png":"3b65","./devilsadvocate.png":"cd8b","./djinn.png":"e222","./doomsayer.png":"659f","./dreamer.png":"71b8","./drunk.png":"d97d","./duchess.png":"5c56","./empath.png":"bb7a","./engineer.png":"ea17","./evil.png":"c24f","./eviltwin.png":"e014","./exorcist.png":"5072","./fabled.png":"5b44","./fanggu.png":"6ac0","./farmer.png":"7a7f","./fearmonger.png":"d69f","./fibbin.png":"6eb1","./fiddler.png":"64be","./fisherman.png":"c5db","./flowergirl.png":"66ae","./fool.png":"4720","./fortuneteller.png":"43e8","./gambler.png":"dce6","./gangster.png":"97c6","./general.png":"ac9c","./goblin.png":"5c8e","./godfather.png":"99d0","./golem.png":"4eb3","./good.png":"667e","./goon.png":"55aa","./gossip.png":"cadc","./grandmother.png":"c9f5","./gunslinger.png":"ee92","./harlot.png":"559e","./hellslibrarian.png":"a367","./heretic.png":"5626","./huntsman.png":"1923","./imp.png":"3e70","./innkeeper.png":"663c","./investigator.png":"b570","./judge.png":"f09b","./juggler.png":"65ab","./king.png":"9639","./klutz.png":"adfc","./legion.png":"da81","./leviathan.png":"2b04","./librarian.png":"4d73","./lilmonsta.png":"c492","./lleech.png":"9f74","./lunatic.png":"0b61","./lycanthrope.png":"c316","./magician.png":"ab3c","./marionette.png":"e69f","./mastermind.png":"f834","./mathematician.png":"8888","./matron.png":"b1cb","./mayor.png":"b223","./mephit.png":"df5e","./mezepheles.png":"c7b7","./minion.png":"75bc","./minstrel.png":"4efd","./monk.png":"6741","./moonchild.png":"3f65","./mutant.png":"17ad","./narrador.png":"ee8c","./noble.png":"f7d3","./nodashii.png":"68a4","./oracle.png":"0c12","./outsider.png":"2490","./pacifist.png":"fff1","./philosopher.png":"3603","./pithag.png":"7f07","./pixie.png":"a7b6","./plus.png":"160b","./po.png":"c73a","./poisoner.png":"f282","./politician.png":"07ab","./poppygrower.png":"3273","./preacher.png":"2094","./professor.png":"b30c","./psychopath.png":"fcdb","./pukka.png":"a6a2","./puzzlemaster.png":"27a3","./ravenkeeper.png":"0c59","./recluse.png":"177d","./revolutionary.png":"aa2d","./riot.png":"5740","./sage.png":"30b6","./sailor.png":"223c","./saint.png":"6936","./savant.png":"d715","./scapegoat.png":"327a","./scarletwoman.png":"f322","./seamstress.png":"ac7c","./sentinel.png":"af68","./shabaloth.png":"0b29","./slayer.png":"d62b","./snakecharmer.png":"4021","./snitch.png":"b7e8","./soldier.png":"4e76","./spiritofivory.png":"0d06","./spy.png":"ec1e","./stormcatcher.png":"a4c2","./sweetheart.png":"f1e5","./tealady.png":"ba9b","./thief.png":"9ce3","./tinker.png":"9f7e","./towncrier.png":"38a5","./toymaker.png":"39eb","./undertaker.png":"0e20","./vigormortis.png":"f4bd","./virgin.png":"eff4","./vortox.png":"3a43","./voudon.png":"a710","./washerwoman.png":"013f","./widow.png":"22c9","./witch.png":"f558","./x.png":"5cf2","./zombuul.png":"20ca"};function s(e){var o=a(e);return t(o)}function a(e){if(!t.o(i,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id="61b0"},"634a":function(e){e.exports=JSON.parse('[{"townsfolk":3,"outsider":0,"minion":1,"demon":1},{"townsfolk":3,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":0,"minion":1,"demon":1},{"townsfolk":5,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":2,"minion":1,"demon":1},{"townsfolk":7,"outsider":0,"minion":2,"demon":1},{"townsfolk":7,"outsider":1,"minion":2,"demon":1},{"townsfolk":7,"outsider":2,"minion":2,"demon":1},{"townsfolk":9,"outsider":0,"minion":3,"demon":1},{"townsfolk":9,"outsider":1,"minion":3,"demon":1},{"townsfolk":9,"outsider":2,"minion":3,"demon":1}]')},"64be":function(e,o,t){e.exports=t.p+"img/fiddler.d1730aaa.png"},"64fe":function(e,o,t){e.exports=t.p+"img/butler.f4fd1640.png"},"659f":function(e,o,t){e.exports=t.p+"img/doomsayer.7ddbe262.png"},"65ab":function(e,o,t){e.exports=t.p+"img/juggler.819f88b8.png"},"65db":function(e,o,t){e.exports=t.p+"img/balloonist.c35c6644.png"},"663c":function(e,o,t){e.exports=t.p+"img/innkeeper.da072f0d.png"},"667e":function(e,o,t){e.exports=t.p+"img/good.daf3b560.png"},"66ae":function(e,o,t){e.exports=t.p+"img/flowergirl.6196eef9.png"},6741:function(e,o,t){e.exports=t.p+"img/monk.ff81aec2.png"},6798:function(e,o,t){"use strict";t("7702")},"68a4":function(e,o,t){e.exports=t.p+"img/nodashii.5220cac3.png"},6936:function(e,o,t){e.exports=t.p+"img/saint.b7a15b85.png"},"6ac0":function(e,o,t){e.exports=t.p+"img/fanggu.8fbd2e39.png"},"6b1e":function(e,o,t){},"6c0f":function(e,o,t){"use strict";t("f493")},"6eb1":function(e,o,t){e.exports=t.p+"img/fibbin.9f01eb47.png"},"71b8":function(e,o,t){e.exports=t.p+"img/dreamer.fe5645e1.png"},"722c":function(e,o,t){"use strict";t("9118")},"72d7":function(e,o,t){e.exports=t.p+"img/damsel.040c275d.png"},"73a1":function(e,o,t){e.exports=t.p+"img/tb-outsider.9ae6ef1b.png"},7496:function(e,o,t){e.exports=t.p+"img/bmr.1d06ca78.png"},"74c9":function(e,o,t){"use strict";t("9fd8")},"75bc":function(e,o,t){e.exports=t.p+"img/minion.e02a5c96.png"},7702:function(e,o,t){},"795b":function(e,o,t){},"7a7f":function(e,o,t){e.exports=t.p+"img/farmer.1534709d.png"},"7f07":function(e,o,t){e.exports=t.p+"img/pithag.9bdfc5a3.png"},8030:function(e,o,t){e.exports=t.p+"img/bishop.1f25f092.png"},"849e":function(e,o,t){"use strict";t("f815")},8781:function(e,o,t){"use strict";t("6b1e")},"887b":function(e,o,t){e.exports=t.p+"img/acrobat.be49ceac.png"},8888:function(e,o,t){e.exports=t.p+"img/mathematician.cc67c625.png"},"899d":function(e,o,t){e.exports=t.p+"img/bountyhunter.b208dc71.png"},9002:function(e,o,t){e.exports=t.p+"img/deusexfiasco.96e5d2eb.png"},9118:function(e,o,t){},9187:function(e,o,t){e.exports=t.p+"img/assassin.ae0f2fba.png"},9224:function(e){e.exports=JSON.parse('{"a":"2.15.2"}')},"92d8":function(e,o,t){e.exports=t.p+"img/luf.8e16a6e6.png"},9376:function(e,o,t){"use strict";t("ff64")},"95f0":function(e,o,t){"use strict";t("288b")},9639:function(e,o,t){e.exports=t.p+"img/king.3f722bb8.png"},"97c6":function(e,o,t){e.exports=t.p+"img/gangster.72167674.png"},9989:function(e,o,t){e.exports=t.p+"img/alhadikhia.1d64887e.png"},"99d0":function(e,o,t){e.exports=t.p+"img/godfather.d64b901e.png"},"9c0c":function(e,o,t){},"9ce3":function(e,o,t){e.exports=t.p+"img/thief.04afd5e0.png"},"9f74":function(e,o,t){e.exports=t.p+"img/lleech.da66feee.png"},"9f7e":function(e,o,t){e.exports=t.p+"img/tinker.ce44bde6.png"},"9fd8":function(e,o,t){},a367:function(e,o,t){e.exports=t.p+"img/hellslibrarian.3df1d423.png"},a3b0:function(e,o,t){e.exports=t.p+"img/tb-demon.0ac8cce6.png"},a4c2:function(e,o,t){e.exports=t.p+"img/stormcatcher.3f5110c6.png"},a6a2:function(e,o,t){e.exports=t.p+"img/pukka.1b1700de.png"},a710:function(e,o,t){e.exports=t.p+"img/voudon.4c0eb80c.png"},a7b6:function(e,o,t){e.exports=t.p+"img/pixie.2db5f1a2.png"},aa2d:function(e,o,t){e.exports=t.p+"img/revolutionary.68827d94.png"},aae9:function(e,o,t){e.exports=t.p+"img/boomdandy.009c74b1.png"},ab3c:function(e,o,t){e.exports=t.p+"img/magician.f076c292.png"},ac7c:function(e,o,t){e.exports=t.p+"img/seamstress.209ed80b.png"},ac9c:function(e,o,t){e.exports=t.p+"img/general.2fc65230.png"},adfc:function(e,o,t){e.exports=t.p+"img/klutz.99df79cb.png"},af68:function(e,o,t){e.exports=t.p+"img/sentinel.93d312eb.png"},b1cb:function(e,o,t){e.exports=t.p+"img/matron.6e1551e5.png"},b1d9:function(e){e.exports=JSON.parse('[{"id":"washerwoman","name":"Lavadeira","edition":"tb","team":"townsfolk","firstNight":32,"firstNightReminder":"Mostre um token de personagem Cidadão em jogo. Aponte para dois jogadores, um deles é aquele personagem.","otherNight":0,"otherNightReminder":"","reminders":["Cidadão","Errado"],"setup":false,"ability":"Você começa sabendo que 1 dentre 2 jogadores é um Cidadão específico."},{"id":"librarian","name":"Bibliotecária","edition":"tb","team":"townsfolk","firstNight":33,"firstNightReminder":"Mostre um token de personagem Forasteiro em jogo. Aponte para dois jogadores, um deles é aquele personagem (ou mostre \'zero\', caso não haja Forasteiros).","otherNight":0,"otherNightReminder":"","reminders":["Forasteiro","Errado"],"setup":false,"ability":"Você começa sabendo que 1 dentre 2 jogadores é um Forasteiro específico.(Ou que há \'zero\' Forasteiros em jogo.)"},{"id":"investigator","name":"Investigador","edition":"tb","team":"townsfolk","firstNight":34,"firstNightReminder":"Mostre um token de personagem Lacaio em jogo. Aponte para dois jogadores, um deles é aquele personagem.","otherNight":0,"otherNightReminder":"","reminders":["Lacaio","Errado"],"setup":false,"ability":"Você começa sabendo que 1 dentre 2 jogadores é um Lacaio específico."},{"id":"chef","name":"Chef","edition":"tb","team":"townsfolk","firstNight":35,"firstNightReminder":"Mostre um número (0, 1, 2, …) para indicar quantos pares de jogadores do mal são vizinhos.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você começa sabendo quantos pares de jogadores maus existem."},{"id":"empath","name":"Empático","edition":"tb","team":"townsfolk","firstNight":36,"firstNightReminder":"Mostre um número (0, 1 ou 2) para indicar quantos dos vizinhos vivos do Empático são maus.","otherNight":53,"otherNightReminder":"Mostre um número (0, 1 ou 2) para indicar quantos dos vizinhos vivos do Empático são maus.","reminders":[],"setup":false,"ability":"A cada noite, você descobre quantos de seus 2 vizinhos vivos são maus."},{"id":"fortuneteller","name":"Vidente","edition":"tb","team":"townsfolk","firstNight":37,"firstNightReminder":"A vidente aponta para dois jogadores. Sinalize com cabeça(sim ou não) para indicar se algum destes jogadores é um Demônio. ","otherNight":54,"otherNightReminder":"A vidente aponta para dois jogadores. Sinalize com cabeça(sim ou não) para indicar se algum destes jogadores é um Demônio. ","reminders":["Red herring"],"setup":false,"ability":"A cada noite, escolha 2 jogadores: você descobre se algum deles é um Demônio. Há um jogador bom que registra como Demônio para você."},{"id":"undertaker","name":"Coveiro","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":56,"otherNightReminder":"Se um jogador foi morreu por execução hoje: mostre o token de personagem desse jogador.","reminders":["Executado"],"setup":false,"ability":"A cada noite*, você descobre qual personagem morreu por execução durante o dia."},{"id":"monk","name":"Monge","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":13,"otherNightReminder":"O jogador protegido anteriormente não está mais protegido. O Monge aponta para um jogador(exceto ele). Marque aquele jogador como PROTEGIDO.","reminders":["Protegido"],"setup":false,"ability":"A cada noite*, escolha um jogador (exceto você): ele está a salvo do Demônio esta noite."},{"id":"ravenkeeper","name":"Mestre dos Corvos","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":42,"otherNightReminder":"Se o Mestre dos Corvos morreu hoje: O Mestre dos Corvos aponta para um jogador. Mostre o token de personagem daquele jogador.","reminders":[],"setup":false,"ability":"Se você morrer à Noite, será acordado para escolher um jogador: você descobre o personagem dele."},{"id":"virgin","name":"Virgem","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Sem habilidade"],"setup":false,"ability":"Na 1ª vez que você é nomeado, se o nomeador é um Cidadão, este é executado imediatamente."},{"id":"slayer","name":"Atirador","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Sem habilidade"],"setup":false,"ability":"Uma vez por partida, durante o dia, você pode escolher um jogador publicamente: se este for o Demônio, morre."},{"id":"soldier","name":"Soldado","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você está a salvo do Demônio."},{"id":"mayor","name":"Prefeito","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se apenas 3 jogadores  estão vivos e não houver execução, seu time vence. Se você morreria à noite, outro jogador pode morrer em vez disso."},{"id":"butler","name":"Mordomo","edition":"tb","team":"outsider","firstNight":38,"firstNightReminder":"O Mordomo aponta para um jogador. Marque esse jogador como \'Mestre\'.","otherNight":55,"otherNightReminder":"O Mordomo aponta para um jogador. Marque esse jogador como \'Mestre\'.","reminders":["Mestre"],"setup":false,"ability":"A cada noite, escolha um jogador (exceto você): amanhã, você só poderá votar se ele estiver votando também."},{"id":"drunk","name":"Bêbado","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["Bêbado"],"setup":true,"ability":"Você não sabe que é o Bêbado. Você acha que é um Cidadão, mas não é."},{"id":"recluse","name":"Recluso","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você pode registrar como mau, Demônio ou Lacaio, mesmo quando morto."},{"id":"saint","name":"Santo","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você morrer por execução, seu time perde."},{"id":"poisoner","name":"Envenenador","edition":"tb","team":"minion","firstNight":17,"firstNightReminder":"O Envenenador aponta para um jogador. Esse jogador fica envenenado.","otherNight":8,"otherNightReminder":"O jogador envenenado anteriormente fica sadio. O Envenenador aponta para um jogador. Esse jogador fica envenenado.","reminders":["Envenenado"],"setup":false,"ability":"A cada noite, escolha um jogador: ele está envenenado esta noite e no dia de amanhã."},{"id":"spy","name":"Espião","edition":"tb","team":"minion","firstNight":47,"firstNightReminder":"Mostre o Grimório para o Espião pelo tempo que ele precisar.","otherNight":67,"otherNightReminder":"Mostre o Grimório para o Espião pelo tempo que ele precisar.","reminders":[],"setup":false,"ability":"A cada noite, você vê o Grimório. Você pode registrar como bom, Cidadão, ou Forasteiro, mesmo quando morto."},{"id":"scarletwoman","name":"Mulher Escarlate","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":20,"otherNightReminder":"Se a Mulher Escarlate se tornou o Demônio hoje, avise-a mostrando o personagem novo dela.","reminders":["Demônio"],"setup":false,"ability":"Se há 5 ou mais jogadores vivos e o Demônio morrer, você se torna o Demônio. (Viajantes não contam)"},{"id":"baron","name":"Barão","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":true,"ability":"Há Forasteiros adicionais em jogo. [+2 Forasteiros]"},{"id":"imp","name":"Capeta","edition":"tb","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":24,"otherNightReminder":". O Capeta escolhe um jogador. O jogador morre. Se o Capeta escolher a si mesmo: Substitua o token de personagem de um Lacaio vivo por outro token de Capeta. Avise ao novo Capeta sobre a mudança de personagem.","reminders":["Morto"],"setup":false,"ability":"A cada noite*, escolha um jogador: Ele morre. Se você se matar com sua habilidade, um Lacaio se torna o Capeta."},{"id":"bureaucrat","name":"Burocrata","edition":"tb","team":"traveler","firstNight":1,"firstNightReminder":"O Burocrata aponta para um jogador. Coloque o marcador \'3votos\' próximo ao token daquele personagem.","otherNight":1,"otherNightReminder":"O Burocrata aponta para um jogador. Coloque o marcador \'3votos\' próximo ao token daquele personagem.","reminders":["3 votos"],"setup":false,"ability":"A cada noite, escolha um jogador, (exceto você): o voto dele vale 3 votos amanhã."},{"id":"thief","name":"Ladrão","edition":"tb","team":"traveler","firstNight":1,"firstNightReminder":"O Ladrão aponta para um jogador. Coloque que o marcador \'Voto Negativo\' próximo ao token daquele personagem.","otherNight":1,"otherNightReminder":"O Ladrão aponta para um jogador. Coloque que o marcador \'Voto Negativo\' próximo ao token daquele personagem.","reminders":["Voto negativo"],"setup":false,"ability":"A cada noite, escolha um jogador (exceto você): o voto dele conta negativamente amanhã."},{"id":"gunslinger","name":"Pistoleiro","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, após a 1ª contagem de votos, você pode escolher um jogador que votou: ele morre."},{"id":"scapegoat","name":"Bode Expiatório","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se um jogador do seu alinhamento seria executado, você pode ser executado em vez disso."},{"id":"beggar","name":"Mendigo","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você deve usar um marcador de voto para votar. Se um jogador morto doar o marcador de voto a você, você descobre o alinhamento dele. Você está sempre sóbrio e sadio."},{"id":"grandmother","name":"Vovó","edition":"bmr","team":"townsfolk","firstNight":39,"firstNightReminder":"Mostre o token de personagem do jogador marcado como \'Neto\'. Aponte para o jogador marcado.","otherNight":50,"otherNightReminder":"Se o \'Neto\' da Vovó foi morto pelo Demônio esta noite: A Vovó morre.","reminders":["Neto"],"setup":false,"ability":"Você começa sabendo o personagem de um jogador bom. Se o Demônio matá-lo, você também morre."},{"id":"sailor","name":"Marinheiro","edition":"bmr","team":"townsfolk","firstNight":10,"firstNightReminder":"O Marinheiro aponta para um jogador. Marque ou Marinheiro, ou o jogador escolhido como \'Bêbado\'.","otherNight":4,"otherNightReminder":"Remova o token \'Bêbado\' do jogador afetado pelo Marinheiro na noite anterior. Ele não está mais bêbado. O Marinheiro aponta para um jogador. Marque ou Marinheiro, ou o jogador escolhido como \'Bêbado\'.","reminders":["Bêbado"],"setup":false,"ability":"A cada noite, escolha um jogador vivo: ou ele, ou você fica bêbado até o anoitecer. Você não pode morrer."},{"id":"chambermaid","name":"Camareira","edition":"bmr","team":"townsfolk","firstNight":49,"firstNightReminder":"A Camareira aponta para dois jogadores vivos. Mostre com os dedos o número que indica quantos desses dois acordaram esta noite pelas próprias habilidades.","otherNight":69,"otherNightReminder":"A Camareira aponta para dois jogadores vivos. Mostre com os dedos o número que indica quantos desses dois acordaram esta noite pelas próprias habilidades.","reminders":[],"setup":false,"ability":"A cada noite, escolha 2 jogadores vivos (exceto você): você descobre quantos acordaram esta noite pelas próprias habilidades."},{"id":"exorcist","name":"Exorcista","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":22,"otherNightReminder":"O Exorcista aponta para um jogador (diferente do escolhido na noite anterior). Se esse jogador é o Demônio: acorde o Demônio. Mostre o token de personagem do Exorcista. Aponte para o jogador Exorcista. O Demônio não age esta noite.","reminders":["Escolhido"],"setup":false,"ability":"A cada noite*, escolha um jogador (diferente do anterior): o Demônio, se escolhido, descobre quem você é e não acorda esta noite."},{"id":"innkeeper","name":"Estalajadeiro","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":9,"otherNightReminder":"Remova os tokens de \'Protegido\' e \'Bêbado\'. O Estalajadeiro aponta 2 jogadores. Esses jogadores ficam protegidos da morte esta noite. Um deles fica bêbado.","reminders":["Protegido","Bêbado"],"setup":false,"ability":"A cada noite*, escolha 2 jogadores: eles não podem morrer esta noite, mas um deles fica bêbado até o próximo anoitecer."},{"id":"gambler","name":"Apostador","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":11,"otherNightReminder":"O Apostador escolhe um jogador e um personagem que esteja no script. Se o personagem não corresponder ao jogador escolhido, o Apostador morre.","reminders":["Morto"],"setup":false,"ability":"A cada noite*, escolha um jogador e tente adivinhar seu personagem: se errar, você morre."},{"id":"gossip","name":"Fofoqueiro","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":47,"otherNightReminder":"Se a alegação pública do Fofoqueiro era verdadeira: Marque um jogador que possa morrer com o token \'Morto\'. Esse jogador morre.","reminders":["Morto"],"setup":false,"ability":"A cada dia, você pode fazer uma alegação publicamente. À noite, se a alegação era verdadeira, um jogador morre."},{"id":"courtier","name":"Cortesão","edition":"bmr","team":"townsfolk","firstNight":19,"firstNightReminder":"O Cortesão pode fazer um \'não\' com a cabeça, ou apontar para um personagem na ficha. Se o Cortesão usou a habilidade, e o personagem estiver em jogo,  o jogador correapondnte fica bêbado.","otherNight":10,"otherNightReminder":"Reduza a quantidade de dias restantes do jogador bêbado. Se o Cortesão ainda não usou a habilidade: O Cortesão pode fazer um \'não\' com a cabeça, ou apontar para um personagem na ficha. Se o Cortesão usou a habilidade, e o personagem estiver em jogo,  o jogador correapondnte fica bêbado.","reminders":["Bêbado 3","Bêbado 2","Bêbado 1","Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, à noite, escolha um personagem: ele fica bêbado por 3 noites e 3 dias."},{"id":"professor","name":"Cientista","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":45,"otherNightReminder":"Se o Cientista ainda não usou a habilidade: O Professor pode fazer \'não\' com a cabeça, ou apontar para um jogador morto. Se esse jogador for um Cidadão, revive.","reminders":["Vivo","Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, à noite*, escolha um jogador morto: se este for um Cidadão, é ressuscitado."},{"id":"minstrel","name":"Bardo","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Todos bêbados"],"setup":false,"ability":"Quando um Lacaio morre por execução, todos os outros jogadores (exceto Viajantes) ficam bêbados até o anoitecer de amanhã."},{"id":"tealady","name":"Moça do Chá","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Não pode morrer"],"setup":false,"ability":"Se ambos os seus vizinhos vivos são bons, não podem morrer."},{"id":"pacifist","name":"Pacifista","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Jogadores bons podem sobreviver quando executados."},{"id":"fool","name":"Bobo","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Sem habilidade"],"setup":false,"ability":"Na 1ª vez que você morreria, você não morre."},{"id":"tinker","name":"Imprudente","edition":"bmr","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":48,"otherNightReminder":"O Imprudente pode morrer.","reminders":["Morto"],"setup":false,"ability":"Você pode morrer a qualquer momento."},{"id":"moonchild","name":"Filha da Noite","edition":"bmr","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":49,"otherNightReminder":"Se a Filha da Noite usou sua habilidade para escolher um jogador hoje: se esse jogador era do bem, morre.","reminders":["Morto"],"setup":false,"ability":"Quando você for avisado de que morreu, escolha publicamente 1 jogador vivo. Hoje à noite, se o jogador escolhido era bom, morre."},{"id":"goon","name":"Capanga","edition":"bmr","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Bêbado"],"setup":false,"ability":"A cada noite, o 1º jogador que escolher você com a própria habilidade fica bêbado até o próximo anoitecer. Você passa a a ter o mesmo alinhamento que este jogador."},{"id":"lunatic","name":"Lunático","edition":"bmr","team":"outsider","firstNight":7,"firstNightReminder":"(Antes e informar o Demônio) Se o jogo tiver 7 jogadores ou  mais: mostre ao Lunático uma quantidade de \'Lacaios\'(arbitrários) correspondente à quantidade de Lacaios em jogo. Mostre 3 tokens de personagens bons (arbitrariamente). Se o Demônio recebido pelo Lunático acordaria para agir esta noite: Permita que o Lunático faça as ações como se fosse esse Demônio. Use os marcadores de \'Ataque\'  conforme as escolhas feitas. Acorde o Demônio. Mostre ao Demônio seu verdadeiro personagem. Aponte para o Lunático e mostre o token de personagem do Lunático. Se o Lunático escolheu algum jogador: mostre um marcador de \'ataque\' e aponte os jogadores escolhidos. Remova o tokens de \'Ataque\'.","otherNight":21,"otherNightReminder":"Permita que o Lunático faça as ações como se fosse o Demônio que recebeu. Use os marcadores de \'Ataque\'  conforme as escolhas feitas. Acorde o Demônio. Se o Lunático escolheu algum jogador: mostre um marcador de \'ataque\' e aponte os jogadores escolhidos. Remova o tokens de \'Ataque\'.","reminders":["Ataque 1","Ataque 2","Ataque 3"],"setup":false,"ability":"Você pensa que é um Demônio, mas você não é. O Demônio sabe quem você é e quem você escolhe à noite."},{"id":"godfather","name":"Chefe da Máfia","edition":"bmr","team":"minion","firstNight":21,"firstNightReminder":"Mostre cada token de Forasteiro em jogo.","otherNight":38,"otherNightReminder":"Se um Forasteiro morreu hoje durante o dia: O Chefe da Máfia aponta para um jogador. Esse jogador morre.","reminders":["Morreu de dia","Morto"],"setup":true,"ability":"Você começa sabendo quais Forasteiros estão em jogo. Se um deles morreu durante o dia, escolha um jogador esta noite: ele morre. [−1 ou +1 Forasteiro]"},{"id":"devilsadvocate","name":"Advogado do Diabo","edition":"bmr","team":"minion","firstNight":22,"firstNightReminder":"O Advogado do Diabo aponta para um jogador vivo: esse jogador sobrevive à execução amanhã.","otherNight":14,"otherNightReminder":"O Advogado do Diabo aponta para um jogador vivo, diferente do que foi escolhido anteriormente: Esse jogador sobrevive à execução amanhã.","reminders":["Sobrevive à execução"],"setup":false,"ability":"A cada noite, escolha um jogador vivo(diferente do anterior): se ele for executado amanhã, não morre."},{"id":"assassin","name":"Assassino","edition":"bmr","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":37,"otherNightReminder":"Se o Assassino ainda não usou a habilidade: o Assassino pode fazer que \'não\' com a cabeça, ou escolher um jogador: o jogador escolhido morre, mesmo que algo impeça isso.","reminders":["Morto","Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, à noite*, você pode escolher um jogador: ele morre mesmo que, por alguma razão, não possa morrer."},{"id":"mastermind","name":"Mentor","edition":"bmr","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se o jogo terminaria com a morte por execução do Demônio, jogue por mais 1 dia. Se então um jogador for executado, o time dele perde."},{"id":"zombuul","name":"Zombuul","edition":"bmr","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":25,"otherNightReminder":"Se ninguém morreu durante o dia: o Zombuul aponta para um jogador. Aquele jogador morre.","reminders":["Morreu de dia","Morto"],"setup":false,"ability":"A cada noite*, se ninguém morreu durante o dia, escolha um jogador: ele morre. Na 1ª vez que você morreria, continua vivo, mas registra como morto."},{"id":"pukka","name":"Pukka","edition":"bmr","team":"demon","firstNight":28,"firstNightReminder":"A Pukka aponta para um jogador. Esse jogador fica envenenado.","otherNight":26,"otherNightReminder":"A Pukka aponta para um jogador. Esse jogador fica envenenado. O jogador envenenado anteriormente morre e o veneno anterior passa.","reminders":["Envenenado","Morto"],"setup":false,"ability":"A cada noite, escolha um jogador: ele fica envenenado. O jogador envenenado anteriormente morre e então é desenvenenado."},{"id":"shabaloth","name":"Shabaloth","edition":"bmr","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":27,"otherNightReminder":"Um dos jogadores escolhidos pelo Shabaloth na noite anterior pode ser ressuscitado. O Shabaloth aponta para dois jogadores. Esses jogadores morrem.","reminders":["Morto 1","Morto 2"],"setup":false,"ability":"A cada noite*, escolha 2 jogadores: eles morrem. Um jogador morto escolhido na noite anterior pode ser regurgitado."},{"id":"po","name":"Po","edition":"bmr","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":28,"otherNightReminder":"Se a última escolha feita pela Po foi \'ninguém\': A Po aponta para 3 jogadores. Esses jogadores morrem. Caso contrário: A Po pode fazer \'não\' com a cabeça, ou apontar para 1 jogador. Esse jogador morre.","reminders":["Morto 1","Morto 2","Morto 3","3 Ataques"],"setup":false,"ability":"A cada noite*, você pode escolher um jogador: ele morre. Se a sua última escolha foi \'ninguém\', escolha 3 jogadores esta noite."},{"id":"apprentice","name":"Aprendiz","edition":"bmr","team":"traveler","firstNight":1,"firstNightReminder":"Mostre ao aprendiz a carta \'Você é\', e então mostre um token de um Cidadão ou Lacaio, conforme o alinhamento. No Grimório, substitua o token do Aprendiz pelo token de personagem mostrado a ele. Coloque o lembrete \'É o Aprendiz\' próximo a esse token de personagem.","otherNight":0,"otherNightReminder":"","reminders":["É o Aprendiz"],"setup":false,"ability":"Na sua 1ª noite, você ganha uma habilidade de Cidadão (se for bom), ou uma habilidade de Lacaio (se for mau)."},{"id":"matron","name":"Matrona","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, você pode escolher até 3 combinações de 2 jogadores para trocarem de lugar. Jogadores não podem sair de seus lugares para falar em privado."},{"id":"narrador","name":"Narrador","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você Narra o Jogo."},{"id":"judge","name":"Juiz","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, se outro jogador nomeou, você pode forçar o sucesso ou a falha desta execução."},{"id":"bishop","name":"Bispo","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Nomear bom","Nomear mau"],"setup":false,"ability":"Apenas o Narrador pode nomear. Pelo menos um jogador do time oposto ao seu será nomeado a cada dia."},{"id":"voudon","name":"Voudon","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Só você e os mortos podem votar. Eles não precisam de marcadores pra votar. Não é necessária maioria de 50%."},{"id":"clockmaker","name":"Relojoeiro","edition":"snv","team":"townsfolk","firstNight":40,"firstNightReminder":"Mostre o número correpondente à distância entre o Demônio e seu Lacaio mais próximo. O número é contado a partir do vizinho do Demônio mais próximo desse Lacaio e termina no próprio Lacaio.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você começa sabendo a quantos passos o Demônio do seu Lacaio mais próximo."},{"id":"dreamer","name":"Sonhador","edition":"snv","team":"townsfolk","firstNight":41,"firstNightReminder":"O Sonhador aponta para um jogador Mostre um token de personagem bom e um mal, sendo um dos dois o verdadeiro personagem do jogador escolhido.","otherNight":57,"otherNightReminder":"O Sonhador aponta para um jogador Mostre um token de personagem bom e um mal, sendo um dos dois o verdadeiro personagem do jogador escolhido.","reminders":[],"setup":false,"ability":"A cada noite, escolha um jogador (exceto você ou Viajantes): você descobre que ele é 1 dentre 2 personagens (um bom e um mal)."},{"id":"snakecharmer","name":"Encantador de Serpentes","edition":"snv","team":"townsfolk","firstNight":20,"firstNightReminder":"O Encantador de Serpentes aponta para um jogador. Se esse jogador for um Demônio: troque oa personagens do Demônio e do Encantador de Serpentes. Acorde-os individualmente para informar seus novos personagens e alinhamentos. O novo Encantador de Serpentes fica envenenado.","otherNight":12,"otherNightReminder":"O Encantador de Serpentes aponta para um jogador. Se esse jogador for um Demônio: troque oa personagens do Demônio e do Encantador de Serpentes. Acorde-os individualmente para informar seus novos personagens e alinhamentos. O novo Encantador de Serpentes fica envenenado.","reminders":["Envenenado"],"setup":false,"ability":"A cada noite, escolha um jogador vivo: um Demônio escolhido desta forma, troca de personagem e alinhamento com você, e então fica envenenado."},{"id":"mathematician","name":"Matemático","edition":"snv","team":"townsfolk","firstNight":50,"firstNightReminder":"Mostre o número de jogadores cujas habilidades não funcionaram corretamente por causa de outras habilidades.","otherNight":70,"otherNightReminder":"Mostre o número de jogadores cujas habilidades não funcionaram corretamente por causa de outras habilidades.","reminders":["Anormal"],"setup":false,"ability":"A cada noite, você descobre quantas habilidades funcionaram de forma anormal (desde o amanhecer) devido a habilidades de outros personagens."},{"id":"flowergirl","name":"Florista","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":58,"otherNightReminder":"Mostre \'sim\' ou \'não\' para indicar se o Demônio votou. Coloque o lembrete \'Demônio não votou\' (remova \'Demônio votou\', se for o caso).","reminders":["Demônio votou","Demônio não votou"],"setup":false,"ability":"A cada noite*, você descobre se um Demônio votou hoje."},{"id":"towncrier","name":"Arauto da Cidade","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":59,"otherNightReminder":"Mostre \'sim\' ou \'não\' para indicar se algum Lacaio nomeou hoje. Coloque o lembrete \'Lacaio não nomeou\' (remova \'Lacaios não nomearam\', se for o caso).","reminders":["Lacaios não nomearam","Lacaio nomeou"],"setup":false,"ability":"A cada noite*, você descobre se um Lacaio nomeou hoje."},{"id":"oracle","name":"Oráculo","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":60,"otherNightReminder":"Mostre o número de jogadores maus mortos.","reminders":[],"setup":false,"ability":"A cada noite*, você descobre quantos jogadores mortos são maus."},{"id":"savant","name":"Prodígio","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, você pode visitar o Narrador para descobrir 2 coisas em segredo: 1 é verdadeira e 1 é falsa."},{"id":"seamstress","name":"Costureira","edition":"snv","team":"townsfolk","firstNight":42,"firstNightReminder":"A Costureira pode dizer \'não\', ou escolher outros dois jogadores. Se ela escolher, mostre \'sim\' ou \'não\' para indicar se esses dois jogadores possuem o mesmo alinhamento.","otherNight":61,"otherNightReminder":"Se a Costureira ainda não usou a habilidade: A Costureira pode dizer \'não\' com a cabeça, ou escolher outros dois jogadores. Se ela escolher, mostre \'sim\' ou \'não\' para indicar se esses dois jogadores possuem o mesmo alinhamento.","reminders":["Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, à noite, você pode escolher 2 jogadores (exceto você): você descobre se eles têm o mesmo alinhamento."},{"id":"philosopher","name":"Filósofo","edition":"snv","team":"townsfolk","firstNight":2,"firstNightReminder":"(Antes de informar os lacaios) O Filósofo pode dizer \'não\', ou escolher um personagem do bem que esteja no script. Se escolher um personagem: Troque o token do Filósofo pelo token de personagem escolhido coloque ao lado dele o lembrete \'É o Filósofo\'.Se o personagem escolhido já estava em jogo, coloque o lembrete \'Bêbado\' próximo ao token desse personagem.","otherNight":2,"otherNightReminder":"Se o Filósofo ainda não usou a habilidade: O Filósofo pode dizer \'não\', ou escolher um personagem do bem que esteja no script. Se escolher um personagem: Troque o token do Filósofo pelo token de personagem escolhido coloque ao lado dele o lembrete \'É o Filósofo\'.Se o personagem escolhido já estava em jogo, coloque o lembrete \'Bêbado\' próximo ao token desse personagem.","reminders":["Bêbado","É o Filósofo"],"setup":false,"ability":"Uma vez por jogo, à noite, escolha um personagem bom: ganhe aquela habilidade. Se o personagem estiver em jogo, ele fica bêbado."},{"id":"artist","name":"Artista","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, durante o dia, em segredo, você pode fazer uma pergunta de \'sim ou não\' para o Narrador."},{"id":"juggler","name":"Malabarista","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":62,"otherNightReminder":"Se hoje foi o primeiro dia do malabarista: Informe o número de advinhações corretas.","reminders":["Correto"],"setup":false,"ability":"No seu 1° dia, tente adivinhar publicamente os personagens de até 5 jogadores. Naquela noite, você descobre quantos acertou."},{"id":"sage","name":"Sábio","team":"townsfolk","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":43,"otherNightReminder":"Se o sábio foi morto pelo Demônio esta noite: Aponte para dois jogadores, sendo um deles o Demônio.","reminders":[],"setup":false,"ability":"Se você for morto pelo Demônio, você descobre que ele é 1 dentre 2 jogadores."},{"id":"mutant","name":"Mutante","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você alucinar que é um Forasteiro, pode ser executado."},{"id":"sweetheart","name":"Queridinha","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":41,"otherNightReminder":"Se a Queridinha morreu hoje, escolha um jogador e coloque o lembrete \'Bêbado\' perto do token de personagem dele.","reminders":["Bêbado"],"setup":false,"ability":"Se você morrer, um jogador fica bêbado."},{"id":"barber","name":"Barbeiro","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":40,"otherNightReminder":"Se o Barbeiro morreu hoje: acorde o Demônio. Informe-o que o Barbeiro morreu neste dia. O Demônio pode recusar usar a habilidade do Barbeiro ou escolher 2 jogadores que não são Demônio. Se ele escolher jogadores: Troque as fichas de personagem. Acorde cada jogador. Informe-os quais são seus novos personagens.","reminders":["Troca"],"setup":false,"ability":"Se você morreu hoje, o Demônio pode escolher 2 jogadores (exceto outro Demônio) para permutarem seus personagens."},{"id":"klutz","name":"Desastrado","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Quando você for avisado de que morreu, escolha um jogador vivo publicamente: se este for mau, seu time perde."},{"id":"eviltwin","name":"Gêmea Má","edition":"snv","team":"minion","firstNight":23,"firstNightReminder":"Acorde a gêmea má e informe-a quem é sua outra gêmea e qual seu personagem. Acorde a outra Gêmea e informe-a que foi escolhida como Gêmea e indique quem é a Gêmea Má.","otherNight":0,"otherNightReminder":"","reminders":["Gêmea"],"setup":false,"ability":"Você e um oponente sabem o personagem um do outro. Se o jogador bom for executado, o Mal vence. O bem não pode vencer enquanto ambos viverem."},{"id":"witch","name":"Feiticeira","edition":"snv","team":"minion","firstNight":24,"firstNightReminder":"A Feiticeira escolhe um jogador. Esse jogador esta amaldiçoado no próximo dia.","otherNight":15,"otherNightReminder":"A Feiticeira escolhe um jogador. Esse jogador esta amaldiçoado no próximo dia.","reminders":["Amaldiçoado"],"setup":false,"ability":"A cada noite, escolha um jogador: se ele nomear amanhã, morre. Se apenas 3 jogadores estão vivos, você perde essa habilidade."},{"id":"cerenovus","name":"Cerenovus","edition":"snv","team":"minion","firstNight":25,"firstNightReminder":"O Cerenovus escolhe um jogador e um personagem do Bem ou Goblin, se estiver no script. Esse jogador deve alucinar ser esse personagem. Acorde aquele jogador. Informe-o que o Cerenovus o escolheu. Informe-o que ele deve \'alucinar\' ser o personagem escolhido.","otherNight":16,"otherNightReminder":"O Cerenovus escolhe um jogador e um personagem do Bem ou Goblin, se estiver no script. Esse jogador deve alucinar ser esse personagem. Acorde aquele jogador. Informe-o que o Cerenovus o escolheu. Informe-o que ele deve \'alucinar\' ser o personagem escolhido.","reminders":["Louco"],"setup":false,"ability":"A cada noite, escolha um personagem do bem e um jogador: amanhã, o jogador deve alucinar que é esse personagem; do contrário, pode ser executado."},{"id":"pithag","name":"Bruxa do Fosso","edition":"snv","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":17,"otherNightReminder":"A Bruxa do Fosso escolhe um jogador e um personagem do script. Caso não esteja em jogo, avise o jogador escolhido que seu personagem agora é esse.","reminders":[],"setup":false,"ability":"A cada noite*, escolha um jogador e um personagem para ele se tornar (se não estiver em jogo). Se um Demônio é criado, as mortes serão arbitrárias esta noite."},{"id":"fanggu","name":"Fang Gu","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":29,"otherNightReminder":"O Fang Gu escolhe um jogador. Esse jogador morre. Ou, se este seria o 1º Forasteiro a ser morto por um Fang Gu: O Fang Gu morre em vez do jogador escolhido. O jogador escolhido agora é um Fang Gu do mal. Acorde o novo Fang Gu e avise-o disso.","reminders":["Morto"],"setup":true,"ability":"A cada noite*, escolha um jogador: ele morre. O 1º Forasteiro que morreria desta forma se torna um Fang Gu do mal e você morre em vez dele. [+1 Forasteiro]"},{"id":"vigormortis","name":"Vigormortis","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":32,"otherNightReminder":"O Vigormortis escolhe um jogador. O jogador morre. Se um Lacaio, ele mantêm sua habilidade e um de seus vizinhos de Cidadão é envenenado.","reminders":["Morto","Envenenado","Habilidade Ativa"],"setup":true,"ability":"A cada noite*, escolha um jogador: ele morre. Lacaios que você mata mantêm suas habilidades e envenenam um vizinho cidadão. [-1 Forasteiro]."},{"id":"nodashii","name":"No Dashii","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":30,"otherNightReminder":"O No Dashii escolhe um jogador. O jogador morre.","reminders":["Morto","Envenenado"],"setup":false,"ability":"A cada noite*, escolha um jogador: ele morre. Seus dois vizinhos Cidadãos estão envenenados."},{"id":"vortox","name":"Vortox","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":31,"otherNightReminder":"O Vortox escolhe um jogador. O jogador morre.","reminders":["Morto"],"setup":false,"ability":"A cada noite*, escolha um jogador: ele morre. Habilidades de Cidadãos geram informações falsas. A cada dia, se ninguém for executado, o Mal vence."},{"id":"barista","name":"Barista","edition":"snv","team":"traveler","firstNight":1,"firstNightReminder":"Coloque o lembrete \'Sóbrio e saudável\' ou o lembrete \'Age duas vezes\' ao lado de qualquer token de personagem. Acorde o jogador desse personagem e informe-o se está sóbrio e saudável ou se pode agir duas vezes.","otherNight":1,"otherNightReminder":"Coloque o lembrete \'Sóbrio e saudável\' ou o lembrete \'Age duas vezes\' ao lado de qualquer token de personagem. Acorde o jogador desse personagem e informe-o se está sóbrio e saudável ou se pode agir duas vezes.","reminders":["Age duas vezes","Sóbrio e Saudável"],"setup":false,"ability":"A cada noite, até o anoitecer: 1- Um jogador fica sóbrio, saudável e obtém informações verdadeiras, ou 2- Uma habilidade funciona duas vezes. O jogador afetado sabe qual é o efeito."},{"id":"harlot","name":"Meretriz","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"A Meretriz escolhe um jogador. Adormeça a Meretriz. Acorde o jogador escolhido, informe-o que a Meretriz o escolheu. Se ele concordar em \'passar a noite com a Meretriz\', acorde a Meretriz e mostre o token de personagem do jogador escolhido. Então, você pode decidir que ninguém morra ou ambos os jogadores morram.","reminders":["Morto"],"setup":false,"ability":"Cada noite *, escolha um jogador vivo: se ele concordar, você descobre o seu personagem, mas ambos podem morrer."},{"id":"butcher","name":"Açougueiro","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, após a 1ª execução, você nomeia novamente."},{"id":"bonecollector","name":"Coletor de Ossos","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"O Coletor de Ossos pode recusar usar a habilidade ou escolhe qualquer jogador morto. Se ele escolher algum jogador morto, coloque o lembrete \'Tem Habilidade\' do Colecionador de Ossos ao lado da ficha de personagem do jogador escolhido. (Eles podem precisar ser acordados esta noite para usá-lo.)","reminders":["Usado","Habilidade Ativa"],"setup":false,"ability":"Uma vez por jogo, à noite, escolha um jogador morto: ele recupera suas habilidades até o anoitecer."},{"id":"deviant","name":"Divergente","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você foi engraçado hoje, você não pode ser exilado."},{"id":"noble","name":"Nobre","edition":"","team":"townsfolk","firstNight":43,"firstNightReminder":"Indique 3 jogadores incluindo um jogador do mau, em qualquer ordem.","otherNight":0,"otherNightReminder":"","reminders":["Visto"],"setup":false,"ability":"Você começa sabendo 3 jogadores, 1 e apenas 1 deles é mau."},{"id":"bountyhunter","name":"Caçador de Recompensas","edition":"","team":"townsfolk","firstNight":45,"firstNightReminder":"Antes da partida começar, um cidadão é escolhido como do mal e um dos personagens do mal é escolhido como alvo do Caçador de Recompensas. Informe ao cidadão do mal o seu alinhamento no inicio da Primeira Noite. Então mesmo que o Caçador de Recompensas esteja bêbado/envenenado na primeira noite ainda vai ter um personagem alvo. Informe ao Caçador de Recompensas qual jogador é seu alvo. Caso o Caçador de Recompensas esteja bêbado/envenenado na primeira noite informe-o um jogador que não seja o seu alvo.","otherNight":65,"otherNightReminder":"Se o alvo do Caçador de Recompensas morreu desde a noite anterior: Informe-o seu novo alvo. Caso o jogador marcado como “Alvo” se tornar bom, mova o marcador de “Alvo” para um jogador da equipe do mal e desperte o Caçador de Recompensas na próxima oportunidade para ele aprender isso.","reminders":["Alvo"],"setup":true,"ability":"Você começa o jogo sabendo quem é 1 jogador do mal. Se esse jogador do mal morrer, você descobre outro nesta noite. [1 Cidadão é Mal]"},{"id":"pixie","name":"Pixie","edition":"","team":"townsfolk","firstNight":29,"firstNightReminder":"Informe um Cidadão que está em jogo para a Pixie.","otherNight":0,"otherNightReminder":"","reminders":["Alucinando","Habilidade adquirida"],"setup":false,"ability":"Você começa o sabendo 1 Cidadão em jogo. Se você estava alucinando ser esse personagem, você ganha a habilidade dele quando ele morrer."},{"id":"general","name":"General","edition":"","team":"townsfolk","firstNight":48,"firstNightReminder":"Informe ao General: bom, mau ou nenhum; para o alinhamento que você acredita estar ganhando.","otherNight":68,"otherNightReminder":"Informe ao General: bom, mau ou nenhum; para o alinhamento que você acredita estar ganhando.","reminders":[],"setup":false,"ability":"A cada noite, você descobre qual time o Narrador acredita que está vencendo: Bem, Mal ou Nenhum."},{"id":"preacher","name":"Missionário","edition":"","team":"townsfolk","firstNight":14,"firstNightReminder":"O Missionário escolhe um jogador. Se esse jogador for um Lacaio: Desperte o Lacaio. Informe-o que foi escolhido pelo Missionário. O Lacaio agora não tem mais uma habilidade. Caso o Missionário fique bêbado/envenenado/morra o Lacaio volta a ter sua habilidade até que o Missionário fique sóbrio novamente.","otherNight":7,"otherNightReminder":"O Missionário escolhe um jogador. Se esse jogador for um Lacaio: Desperte o Lacaio. Informe-o que foi escolhido pelo Missionário. O Lacaio agora não tem mais uma habilidade. Caso o Missionário fique bêbado/envenenado/morra o Lacaio volta a ter sua habilidade até que o Missionário fique sóbrio novamente.","reminders":["Sem habilidade"],"setup":false,"ability":"Toda Noite, escolha um jogador: um Lacaio, se escolhido, saberá disso. Todos os Lacaios escolhidos não têm habilidade."},{"id":"king","name":"Rei","edition":"","team":"townsfolk","firstNight":9,"firstNightReminder":"Acorde o Demônio, mostre quem é o Rei.","otherNight":64,"otherNightReminder":"Se há mais mortos do que vivos, mostre ao Rei o personagem de um jogador vivo.","reminders":[],"setup":false,"ability":"A cada noite, se os mortos são maioria, você descobre um personagem vivo. O Demônio sabe quem você é."},{"id":"balloonist","name":"Balonista","edition":"","team":"townsfolk","firstNight":44,"firstNightReminder":"Escolha um tipo de personagem. Informe ao Balonista um jogador cujo personagem é desse tipo. Coloque o lembrete \'Visto\' do Balonista ao lado desse personagem.","otherNight":63,"otherNightReminder":"Escolha um tipo de personagem que você ainda não escolheu. Informe ao Balonista um jogador cujo personagem é desse tipo, se houver algum. Coloque o lembrete \'Visto\' do Balonista ao lado desse personagem.","reminders":["Cidadão visto","Forasteiro visto","Lacaio visto ","Demônio visto","Viajante visto"],"setup":true,"ability":"A cada noite, você descobre um jogador de cada tipo de personagem, até ter passado por todos os tipos. [+1 Forasteiro]"},{"id":"cultleader","name":"Líder da Seita","edition":"","team":"townsfolk","firstNight":46,"firstNightReminder":"Escolha arbitraiamente um vizinho vivo do Líder da Seita, O alinhamento dele agora é igual ao do jogador escolhido. Se o Líder da Seita mudou o seu alinhamento, acorde-o e informe-o o seu alinhamento Atual.","otherNight":66,"otherNightReminder":"Escolha arbitraiamente um vizinho vivo do Líder da Seita, O alinhamento dele agora é igual ao do jogador escolhido. Se o Líder da Seita mudou o seu alinhamento, acorde-o e informe-o o seu alinhamento Atual.","reminders":[],"setup":false,"ability":"A cada noite o seu alinhamento (bem/mal) será igual a um de seus vizinhos vivos. Se todos os jogadores do bem aderirem a seita, seu time vence."},{"id":"lycanthrope","name":"Licantropo","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":23,"otherNightReminder":"O Licantropo escolhe um jogador vivo: se for bom, eles morre e ninguém mais pode morrer esta noite. Se por algum motivo o jogador escolhido for do bem e não morreu, a habilidade do Licantropo não impede alguém de morrer esta noite.","reminders":["Morto"],"setup":false,"ability":"Cada Noite*, escolha um jogador vivo: Se ele for do Bem, ele morre, mas só ele poderá morrer essa noite."},{"id":"amnesiac","name":"Esquecido","edition":"","team":"townsfolk","firstNight":12,"firstNightReminder":"Decida a habilidade do Esquecido. Se a habilidade do Esquecido faz com que ele acorde esta noite: Acorde o Esquecido e execute sua habilidade.","otherNight":5,"otherNightReminder":"Se a habilidade do Esquecido faz com que ele acorde esta noite: Acorde o Esquecido e execute sua habilidade.","reminders":["?"],"setup":false,"ability":"Você não sabe qual é a sua habilidade. Todo dia, visite o Storyteller para tentar adivinhar a sua habilidade: você descobre o quão perto está da resposta."},{"id":"engineer","name":"Engenheiro","edition":"","team":"townsfolk","firstNight":13,"firstNightReminder":"O Engineer mostra um sinal de \'não\' com a cabeça, ou aponta para um Demônio ou aponta para o número relevante de Minions. Se o Engenheiro escolheu personagens, substitua o Demônio ou Minions pelas escolhas, então desperte os jogadores relevantes e mostre a eles a carta Você é e as fichas de personagem relevantes. ","otherNight":6,"otherNightReminder":"O Engineer mostra um sinal de \'não\' com a cabeça, ou aponta para um Demônio ou aponta para o número relevante de Minions. Se o Engenheiro escolheu personagens, substitua o Demônio ou Minions pelas escolhas, então desperte os jogadores relevantes e mostre a eles a carta \'Você é\' e as fichas de personagem relevantes.","reminders":["Sem habilidade"],"setup":false,"ability":"Uma vez por jogo, à noite, escolha quais lacaios ou demônios estão em jogo."},{"id":"fisherman","name":"Pescador","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Uma vez por jogo, durante o dia, visite o Storyteller para obter conselhos de como vencer."},{"id":"huntsman","name":"Caçador","edition":"","team":"townsfolk","firstNight":30,"firstNightReminder":"O Caçador pode dizer \'não\' ou escolher um jogador. Se escolher a Donzela, acorde-a e mostre o token de um Cidadão de fora do jogo, indicando seu novo personagem.","otherNight":51,"otherNightReminder":"O Caçador pode dizer \'não\' ou escolher um jogador. Se escolher a Donzela, acorde-a e mostre o token de um Cidadão de fora do jogo, indicando seu novo personagem.","reminders":["Sem habilidade"],"setup":true,"ability":"Apenas uma vez, à noite, escolha um jogador vivo: a Donzela, se escolhida, se torna um Cidadão de fora do jogo. [+Donzela]"},{"id":"alchemist","name":"Alquimista","edition":"","team":"townsfolk","firstNight":3,"firstNightReminder":"Informe o Alquimista sobre sua habilidade.","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["É o Alquimista"],"setup":false,"ability":"Você possui a habilidade de um Lacaio de fora do jogo."},{"id":"farmer","name":"Fazendeiro","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":46,"otherNightReminder":"Se o fazendeiro morreu essa noite, escolha um personagem bom, ele se torna o fazendeiro. Acorde esse jogador e informe-o que ele é o fazendeiro.","reminders":[],"setup":false,"ability":"Se você morrer à noite, um bom jogador vivo se torna um fazendeiro."},{"id":"magician","name":"Mágico","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"O Demônio pensa que você é Lacaio. Lacaios pensam que você é um Demônio."},{"id":"choirboy","name":"Garoto do Coral","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":44,"otherNightReminder":"Se o Rei foi morto pelo Demônio, wake the Choirboy and point to the Demon player.","reminders":[],"setup":true,"ability":"Se o Demônio matar o Rei, você descobre quem é o Demônio. [+ Rei]"},{"id":"poppygrower","name":"Cultivadora","edition":"","team":"townsfolk","firstNight":4,"firstNightReminder":"Não informe ao Demônio/Lacaio quem o outro é.","otherNight":3,"otherNightReminder":"Se a cultivadora morreu, mostre aos Lacaio/Demônios quem o outro é.","reminders":["Evil wakes"],"setup":false,"ability":"Lacaios e Demônios não se conhecem. Se você morre, eles descobrem uns aos outros essa noite."},{"id":"atheist","name":"Ateísta","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":true,"ability":"O narrador pode quebrar as regras do jogo e se executado, o bem ganha, mesmo que você esteja morto. [Sem personagens mals.]"},{"id":"cannibal","name":"Canibal","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Habilidade adquirida","Envenenado"],"setup":false,"ability":"Você tem a habilidade do jogador morto por execução mais recente. Se ele for do mal, você está envenenado até um jogador do Bem ser executado."},{"id":"snitch","name":"Dedo-duro","edition":"","team":"outsider","firstNight":6,"firstNightReminder":"Depois das Informações do Lacaio, acorde cada Lacaio e mostre a eles três personagens que não estão em jogo. Esses personagens podem ser os mesmos ou diferentes dos personagens mostrados ao demônio.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Lacaios começam sabendo 3 personagens de fora do jogo."},{"id":"acrobat","name":"Acrobata","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":39,"otherNightReminder":"Se um dos vizinhos do Bem do Acrobata está bêbado ou envenenado, o Acrobata morre.","reminders":["Morto"],"setup":false,"ability":"A cada noite*, se um dos seus vizinhos do Bem estiver bêbado ou envenenado, você morre."},{"id":"puzzlemaster","name":"Enigmático","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Bêbado","Chance usada"],"setup":false,"ability":"Um jogador está bêbado, mesmo se vc estiver morto. Você tem uma chance de adivinhar quem é. Se conseguir, você descobre quem é o Demônio. Do contrário, você recebe uma informação falsa."},{"id":"heretic","name":"Herege","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Quem venceria perde e quem perderia vence, mesmo que você esteja morto."},{"id":"damsel","name":"Donzela","edition":"","team":"outsider","firstNight":31,"firstNightReminder":"Acorde os Lacaios. Informe-os que a Donzela está em jogo","otherNight":52,"otherNightReminder":"Se escolhida pelo Caçador, acorde a Donzela, mude-a para um Cidadão que esteja fora do jogo.","reminders":["Chance usada"],"setup":false,"ability":"Todos os Lacaios sabem que você está em jogo. Uma vez no jogo, um deles pode adivinhar quem é você. Se conseguir, seu time perde."},{"id":"golem","name":"Golem","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Não pode nomear"],"setup":false,"ability":"Você só pode nomear uma vez. Quando o fizer, o nomeado morre se não for o Demônio."},{"id":"politician","name":"Político","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você for o maior responsável pela derrota do seu time, o seu alinhamento muda e você vence, mesmo estando morto."},{"id":"widow","name":"Viúva","edition":"","team":"minion","firstNight":18,"firstNightReminder":"Mostre o Grimório para a viúva. A viúva escolhe um jogador. Esse jogador está envenenado. Acorde um bom jogador. Informe-o que a Viúva está em jogo. Caso a Viuvá se escolha, nenhum jogador deverá ser acordado. Caso a Viúva fique bêbada/envenenada/morra, o veneno da Viúva cessa até que ela fique sóbria novamente. Se o jogador que sabe que a viúva está em jogo se tornar mau, outro jogador do time bom descobre que a viúva está em jogo","otherNight":0,"otherNightReminder":"","reminders":["Envenenado","Sabendo"],"setup":false,"ability":"Na primeira Noite, veja o Grimório e escolha um jogador: ele está envenenado. 1 jogador do Bem sabe que a Viúva está em jogo."},{"id":"fearmonger","name":"Intimidador","edition":"","team":"minion","firstNight":26,"firstNightReminder":"The Fearmonger points to a player. Place the Fear token next to that player and announce that a new player has been selected with the Fearmonger ability.","otherNight":18,"otherNightReminder":"The Fearmonger points to a player. If different from the previous night, place the Fear token next to that player and announce that a new player has been selected with the Fearmonger ability.","reminders":["Fear"],"setup":false,"ability":"A cada noite, escolha um jogador. Se você nomeá-lo e executá-lo, o time dele perde. Todos os jogadores sabem quando você escolhe um novo alvo."},{"id":"psychopath","name":"Psicopata","edition":"","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Todo dia, antes das nomeações, você pode escolher um jogador publicamente: ele morre. Se você é executado, só morre se perder em um \'jokenpo\'."},{"id":"goblin","name":"Goblin","edition":"","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Alegou"],"setup":false,"ability":"Quando nomeado, você pode publicamente alegar ser o Goblin: Se for executado naquele dia, seu time vence."},{"id":"mephit","name":"Mephit","edition":"","team":"minion","firstNight":27,"firstNightReminder":"Show the Mephit their secret word.","otherNight":19,"otherNightReminder":"Wake the 1st good player that said the Mephit\'s secret word and show them the \'You are\' card and the thumbs down evil signal.","reminders":["Turns evil","No ability"],"setup":false,"ability":"You start knowing a secret word. The 1st good player to say this word becomes evil that night."},{"id":"mezepheles","name":"Mezepheles","edition":"","team":"minion","firstNight":27,"firstNightReminder":"Mostre a Mezepheles a palavra secreta.","otherNight":19,"otherNightReminder":"Acorde o 1º jogador bom que disse a palavra secreta de Mezepheles e mostre que agora ele é mau.","reminders":["Mau","Sem habilidade"],"setup":false,"ability":"Você começa sabendo uma palavra secreta. O 1º jogador bom que disser a palavra se torna mau essa noite."},{"id":"marionette","name":"Marionete","edition":"","team":"minion","firstNight":11,"firstNightReminder":"Selecione um dos bons jogadores ao lado do Demônio e coloque o token de lembrete É a Marionete. Acorde o Demônio e mostre a Marionete a eles.","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["É a marionete"],"setup":true,"ability":"Você acredita ser um personagem bom. O Demônio sabe quem você é. [Você é vizinho do Demônio]"},{"id":"boomdandy","name":"Explosivo","edition":"","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você for executado, todos morrem exceto 3 jogadores. Após 1 minuto, o jogador mais apontado pelos outros jogadores morre."},{"id":"lilmonsta","name":"Bebê Monstro","edition":"","team":"demon","firstNight":16,"firstNightReminder":"Pule as etapas de informações dos Lacaios e as informações do Demônio. Acorde todos os Lacaios. Todos os Lacaios acordam ao mesmo tempo e escolhem um jogador que recebe o Bebê Monstro e se torna o Demônio.","otherNight":36,"otherNightReminder":"Todos os Lacaios acordam ao mesmo tempo e escolhem um jogador que recebe o Bebê Monstro e se torna o Demônio. Escolha alguém para morrer.","reminders":"","remindersGlobal":["Morto","Demônio"],"setup":true,"ability":"A cada noite os Lacaios escolhem quem ficará com o token do Bebê Monstro e será \'o Demônio\'. Um jogador morre a cada noite. [+1 Lacaio]"},{"id":"lleech","name":"Parasita","edition":"","team":"demon","firstNight":15,"firstNightReminder":"O Parasita escolhe um jogador. Coloque o marcador \'Envenenado\' próximo ao token de personagem dele.","otherNight":35,"otherNightReminder":"O Parasita escolhe um jogador. O jogador morre.","reminders":["Dead","Poisoned"],"setup":false,"ability":"A cada noite*, escolha um jogador: ele morre. Você começa escolhendo um jogador vivo: ele fica envenenado - você morre se e somente se aquele jogador morrer."},{"id":"alhadikhia","name":"Al-Hadikhia","edition":"","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":33,"otherNightReminder":"Al-Hadikhia escolhe 3 jogadores. Anuncie o primeiro jogador, acorde-o para que escolha se vive ou morre, mate ou ressuscite conforme a escolha, adormeça-o e repita o processo com o próximo jogador. Se os 3 estiverm vivos após isto, os 3 morrem.","reminders":["1","2","3","Morto","Vivo"],"setup":false,"ability":"A cada noite*, escolha 3 jogadores (todos sabem quais): cada um escolhe silenciosamente se vive ou morre, mas se todos viverem, todos morrem."},{"id":"legion","name":"Legião","edition":"","team":"demon","firstNight":0,"firstNightReminder":"Informe a todos os jogadores da Legião quem pertence a Legião, as informações do Demônio deverão ser dadas a todos os membros da Legião","otherNight":34,"otherNightReminder":"Se ao menos um membro da Legião estiver sóbrio e sadio, escolha um jogador, esse jogador morre.","reminders":["Morto","Prestes a morrer"],"setup":true,"ability":"A cada noite*, um jogador pode morrer. Execuções irão falhar se apenas os jogadores maus votarem. Você também é registrado como um Lacaio. [Maioria dos jogadores é Legião]"},{"id":"leviathan","name":"Leviathan","edition":"","team":"demon","firstNight":52,"firstNightReminder":"Coloque o marcador Leviathan \'Dia 1\'. Anuncie no próximo amanhecer O Leviathan está em jogo; este é o primeiro dia.","otherNight":0,"otherNightReminder":"Coloque o próximo marcador de Leviathan \'Dia N\', onde \'N\' é o número do dia. Anuncie ao próximo amanhecer \'O Leviathan está em jogo; este é o dia n\'.","reminders":["Executado do Bem","Dia 1","Dia 2","Dia 3","Dia 4","Dia 5"],"setup":false,"ability":"Todos os jogadores sabem que você está em jogo. Depois de 5 dias, o Mal vence. Se mais de 1 jogador do Bem for executado, o Mal vence."},{"id":"riot","name":"Pandemônio","edition":"","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":true,"ability":"Nomeados morrem, mas podem nomear novamente imediatamente (no dia 3, devem). Após o dia 3, o mal vence. [Todos os Lacaios são Pandemônio]"},{"id":"gangster","name":"Gangster","edition":"","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Uma vez por dia, você pode escolher matar um vizinho vivo, desde que o outro vizinho concorde."}]')},b223:function(e,o,t){e.exports=t.p+"img/mayor.da8876ae.png"},b249:function(e){e.exports=JSON.parse('[{"id":"doomsayer","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Emissário do Caos","team":"fabled","ability":"Se 4 ou mais jogadores estão vivos, cada jogador vivo pode pedir publicamente(uma vez) que um jogador com o mesmo alinhamento morra."},{"id":"angel","firstNightReminder":"","otherNightReminder":"","reminders":["Protect","Something Bad"],"setup":false,"name":"Angel","team":"fabled","ability":"Algo ruim pode acontecer com o maior responsável pela morte de um novo jogador."},{"id":"buddhist","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Buddhist","team":"fabled","ability":"Durante os primeiros 2 minutos de cada dia, os jogadores veteranos não podem falar."},{"id":"hellslibrarian","firstNightReminder":"","otherNightReminder":"","reminders":["Something Bad"],"setup":false,"name":"Hell\'s Librarian","team":"fabled","ability":"Algo ruim pode acontecer a quem fala quando o Narrador pede silêncio."},{"id":"revolutionary","firstNightReminder":"","otherNightReminder":"","reminders":["Used"],"setup":false,"name":"Revolutionary","team":"fabled","ability":"2 jogadores vizinhos são conhecidos por terem o mesmo alinhamento. Uma vez por jogo, um deles se registra erroneamente."},{"id":"fiddler","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Fiddler","team":"fabled","ability":"Uma vez por jogo, o Demônio escolhe secretamente um jogador adversário: todos os jogadores escolhem qual desses 2 jogadores ganha."},{"id":"toymaker","firstNightReminder":"","otherNight":1,"otherNightReminder":"If it is a night when a Demon attack could end the game, and the Demon is marked “Final night: No Attack,” then the Demon does not act tonight. (Do not wake them.)","reminders":["Final Night: No Attack"],"setup":false,"name":"Toymaker","team":"fabled","ability":"O Demônio pode escolher não atacar e deve fazer isso pelo menos uma vez por jogo. Jogadores maus obtêm informações iniciais normais."},{"id":"fibbin","firstNightReminder":"","otherNightReminder":"","reminders":["Used"],"setup":false,"name":"Fibbin","team":"fabled","ability":"Uma vez por jogo, 1 bom jogador pode obter informações falsas."},{"id":"duchess","firstNightReminder":"","otherNight":1,"otherNightReminder":"Wake each player marked “Visitor” or “False Info” one at a time. Show them the Duchess token, then fingers (1, 2, 3) equaling the number of evil players marked “Visitor” or, if you are waking the player marked “False Info,” show them any number of fingers except the number of evil players marked “Visitor.”","reminders":["Visitor","False Info"],"setup":false,"name":"Duchess","team":"fabled","ability":"Cada dia, 3 jogadores podem escolher visitá-lo. À noite *, cada visitante descobre quantos visitantes são maus, mas 1 obtém informações falsas."},{"id":"sentinel","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":true,"name":"Sentinela","team":"fabled","ability":"Pode haver 1 extra ou 1 Outsider a menos em jogo."},{"id":"spiritofivory","firstNightReminder":"","otherNightReminder":"","reminders":["No extra evil"],"setup":false,"name":"Spirit of Ivory","team":"fabled","ability":"Pode haver 1 Forasteiro a mais ou a menos."},{"id":"djinn","firstNight":0,"firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Djinn","team":"fabled","ability":"Use a regra especial do Djinn. Todos os jogadores sabem o que é."},{"id":"stormcatcher","firstNight":1,"firstNightReminder":"Mark a good player as \\"Safe\\". Wake each evil player and show them the marked player.","otherNightReminder":"","reminders":["Safe"],"setup":false,"name":"Storm Catcher","team":"fabled","ability":"Diga o nome de um bom personagem. Se estiverem em jogo, eles só podem morrer por execução, mas os jogadores malvados descobrem quem é."},{"id":"deusexfiasco","firstNightReminder":"","otherNightReminder":"","reminders":["Whoops"],"setup":false,"name":"Deus ex Fiasco","team":"fabled","ability":"Uma vez por jogo, o Narrador cometerá um \'erro\', corrigirá e admitirá publicamente."}]')},b30c:function(e,o,t){e.exports=t.p+"img/professor.48f01bcb.png"},b3a4:function(e,o,t){"use strict";t("c18d")},b570:function(e,o,t){e.exports=t.p+"img/investigator.a817cc04.png"},b7e8:function(e,o,t){e.exports=t.p+"img/snitch.0f51b730.png"},ba9b:function(e,o,t){e.exports=t.p+"img/tealady.5fc21e59.png"},bb7a:function(e,o,t){e.exports=t.p+"img/empath.b772c7ff.png"},bfe2:function(e,o,t){e.exports=t.p+"img/angel.cae6c8fc.png"},c0a3:function(e,o,t){"use strict";t("795b")},c18d:function(e,o,t){},c24f:function(e,o,t){e.exports=t.p+"img/evil.8723a4ee.png"},c316:function(e,o,t){e.exports=t.p+"img/lycanthrope.48660758.png"},c492:function(e,o,t){e.exports=t.p+"img/lilmonsta.4814ed76.png"},c5db:function(e,o,t){e.exports=t.p+"img/fisherman.0511031e.png"},c72f:function(e,o,t){},c73a:function(e,o,t){e.exports=t.p+"img/po.015a8956.png"},c7b7:function(e,o,t){e.exports=t.p+"img/mezepheles.b1f4ea9e.png"},c825:function(e){e.exports=JSON.parse('[{"id":"Chambermaid","hatred":[{"id":"Mathematician","reason":"A camareira fica sabendo se o matemático acorda esta noite ou não, embora a camareira acorde primeiro."}]},{"id":"Butler","hatred":[{"id":"Cannibal","reason":"Se o Canibal ganha a habilidade de Mordomo, o Canibal aprende isso."}]},{"id":"Lunatic","hatred":[{"id":"Mathematician","reason":"O Matemático descobre se o Lunático ataca um jogador diferente do que o Demônio real atacou."}]},{"id":"Pit-Hag","hatred":[{"id":"Heretic","reason":"Uma Pit-Hag não pode criar um Herege. "},{"id":"Damsel","reason":"Se um Pit-Hag criar uma Donzela, o Narrador escolhe qual jogador é."},{"id":"Politician","reason":"Uma Pit-hag não pode criar um político malvado."}]},{"id":"Cerenovus","hatred":[{"id":"Goblin","reason":"O Cerenovus pode escolher deixar um jogador alucinando em ser o Goblin."}]},{"id":"Leviathan","hatred":[{"id":"Soldier","reason":"Se Leviathan nomear e executar o Soldado, o Soldado não morre"},{"id":"Monk","reason":"Se Leviathan nomear e executar o jogador que o Monge escolheu, esse jogador não morre."},{"id":"Innkeeper","reason":"Se Leviathan nomear e executar um jogador que o Estalajadeiro escolheu, esse jogador não morre"},{"id":"Ravenkeeper","reason":"Se Leviathan está em jogo e o Mestre dos Corvos morre por execução, ele acorda naquela noite para usar sua habilidade."},{"id":"Sage","reason":"Se Leviatã está em jogo e o Sábio morre na execução, ele acorda naquela noite para usar sua habilidade."},{"id":"Farmer","reason":"Se o Leviatã está em jogo e um fazendeiro morre por execução, um bom jogador se torna um fazendeiro naquela noite."},{"id":"Mayor","reason":"Se o Leviatã estiver em jogo e nenhuma execução ocorrer no dia 5, o bem ganha."}]},{"id":"Al-Hadikhia","hatred":[{"id":"Scarlet Woman","reason":"Se houver dois Al-Hadikhias vivos, a Mulher Escarlate Al-Hadikhia torna-se a Mulher Escarlate novamente."},{"id":"Mastermind","reason":"Apenas 1 personagem Jinxed pode estar em jogo. Jogadores maus começam a saber qual jogador e personagem ele é."}]},{"id":"Lil\' Monsta","hatred":[{"id":"Poppy Grower","reason":"Se o Poppy Grower está em jogo, os Minions não acordam juntos. Eles são acordados um por um, até que um deles escolha pegar o token de bebê monstro."},{"id":"Magician","reason":"Apenas 1 personagem Jinxed pode estar em jogo. "},{"id":"Scarlet Woman","reason":"Se houver 5 ou mais jogadores vivos e o jogador segurando a ficha Lil \'Monsta morrer, a Mulher Escarlate receberá a ficha Lil\' Monsta esta noite."}]},{"id":"Lycanthrope","hatred":[{"id":"Gambler","reason":"Se o Lycanthrope está vivo e o Apostador se mata à noite, nenhum outro jogador pode morrer esta noite."}]},{"id":"Legion","hatred":[{"id":"Engineer","reason":"Legion e o Engenheiro não podem estar em jogo no início do jogo. Se o Engineer criar Legion, a maioria dos jogadores (incluindo todos os jogadores malvados) torna-se Legion malvada."},{"id":"Preacher","reason":"Apenas 1 personagem jinxed pode estar em jogo."}]},{"id":"Fang Gu","hatred":[{"id":"Scarlet Woman","reason":"Se o Fang Gu escolher um Forasteiro e morrer, a Mulher Escarlate não se tornará o Fang Gu."}]},{"id":"Spy","hatred":[{"id":"Magician","reason":"Quando o Spy vê o Grimoire, os tokens de personagem do Demônio e do Mago são removidos."},{"id":"Alchemist","reason":"O Alquimista não pode ter a habilidade de Espião."},{"id":"Poppy Grower","reason":"Se o Poppy Grower estiver em jogo, o Spy não verá o Grimoire até que o Poppy Grower morra."},{"id":"Damsel","reason":"apenas 1 personagem jinxed pode estar em jogo."},{"id":"Heretic","reason":"apenas 1 personagem jinxed pode estar em jogo."}]},{"id":"Widow","hatred":[{"id":"Magician","reason":"When the Widow sees the Grimoire, the Demon and Magician\'s character tokens are removed."},{"id":"Poppy Grower","reason":"If the Poppy Grower is in play, the Widow does not see the Grimoire until the Poppy Grower dies."},{"id":"Alchemist","reason":"The Alchemist can not have the Widow ability."},{"id":"Damsel","reason":"Only 1 jinxed character can be in play."},{"id":"Heretic","reason":"Only 1 jinxed character can be in play."}]},{"id":"Godfather","hatred":[{"id":"Heretic","reason":"Only 1 jinxed character can be in play."}]},{"id":"Marionette","hatred":[{"id":"Lil\' Monsta","reason":"The Marionette neighbors a Minion, not the Demon. The Marionette is not woken to choose who takes the Lil\' Monsta token."},{"id":"Poppy Grower","reason":"Quando a Cultivadora morre, o Demônio descobre quem é a Marionete, mas a Marionete não descobre nada."},{"id":"Snitch","reason":"A Marionete só recebe 3 personagens de fora do jogo depois que o Dedo-duro morre."},{"id":"Balloonist","reason":"Se a Marionete pensa que é o Balonista, o jogo começa com +1 Forasteiro."},{"id":"Damsel","reason":"The Marionette does not learn that a Damsel is in play."},{"id":"Huntsman","reason":"If the Marionette thinks that they are the Huntsman, the Damsel was added."}]},{"id":"Riot","hatred":[{"id":"Engineer","reason":"Riot e o Engineer não podem estar em jogo no início do jogo. Se o Engineer criar Riot, os jogadores malvados se tornam Riot."},{"id":"Magician","reason":"Na primeira noite, os jogadores que o primeiro Pandemônio serão acordados um de cada vez para conhecer seus cúmplices em vez de acordarem ao mesmo tempo. Se o Mágico estiver em jogo, será nostrado como Pandemônio nesse momento."},{"id":"Golem","reason":"Se o Golem nomear o Riot, o jogador do Riot não morrerá."},{"id":"Snitch","reason":"Se o Dedo-duro está em jogo, cada jogador que seja Pandemônio recebe mais 3 blefes."},{"id":"Saint","reason":"Se um bom jogador nomeia e mata o Santo, a equipe do Santo perde."},{"id":"Butler","reason":"O mordomo não pode nomear seu mestre."},{"id":"Pit-Hag","reason":"Se a Pit-Hag criar o Riot, todos os jogadores malvados se tornarão o Riot. Se a Pit-Hag criar o Riot após o dia 3, o jogo continuará por mais um dia."},{"id":"Mayor","reason":"Se o terceiro dia começar com apenas três jogadores vivos, os jogadores podem escolher (como um grupo) não indicar nada. Se assim for (e um prefeito estiver vivo), a equipe do prefeito vence."},{"id":"Monk","reason":"Se um jogador Riot nomear e matar o jogador protegido por Monge, o jogador protegido por Monge não morre."},{"id":"Farmer","reason":"Se um jogador da Riot nomeia e mata um Fazendeiro, o Fazendeiro usa sua habilidade esta noite."},{"id":"Innkeeper","reason":"Se um jogador da Riot nomear um jogador protegido pelo estalajadeiro, o jogador protegido pelo estalajadeiro não morre."},{"id":"Sage","reason":"Se um jogador do Riot nomeia e mata um Sage, o Sage usa sua habilidade esta noite."},{"id":"Ravenkeeper","reason":"Se um jogador Riot nomeia e mata o Ravenkeeper, o Ravenkeeper usa sua habilidade esta noite."},{"id":"Soldier","reason":"Se um jogador de Riot nomear o Soldier, o Soldier não morre."},{"id":"Grandmother","reason":"Se um jogador da Riot nomeia e mata o neto, a avó morre também."},{"id":"King","reason":"Se um Pandemônio nomeia e mata o Rei e o Garoto do Coral está vivo, o Garoto do Coral usa sua habilidade esta noite."},{"id":"Exorcist","reason":"Apenas 1 personagem azarado pode estar em jogo."},{"id":"Minstrel","reason":"Apenas 1 personagem azarado pode estar em jogo."},{"id":"Flowergirl","reason":"Apenas 1 personagem azarado pode estar em jogo."},{"id":"Undertaker","reason":"Jogadores que morrem por nomeação são registrados para o Undertaker como sendo executados."},{"id":"Cannibal","reason":"Jogadores mortos por nomeação registram como alternativa para o Canibal."},{"id":"Pacifist","reason":"Os jogadores que morrem por nomeação são registrados pelo Pacifista como sendo executados."},{"id":"Devil\'s Advocate","reason":"Os jogadores que morrem por nomeação são registrados como sendo executados para o Advogado do Diabo."},{"id":"Investigator","reason":"Riot se registra como um lacaio do investigador."},{"id":"Clockmaker","reason":"Riot se registra como um Minion do Relojoeiro."},{"id":"Town Crier","reason":"Riot se registra como um Minion do Town Prego."},{"id":"Damsel","razão":"Riot se registra como um servo da donzela."},{"id":"Preacher","razão":"Riot se registra como um servo do pregador."}]},{"id":"Lleech","hatred":[{"id":"Mastermind","reason":"If the Mastermind is alive and the Lleech\'s host dies by execution, the Lleech lives but loses their ability. "},{"id":"Slayer","reason":"If the Slayer slays the Lleech\'s host, the host dies. "}]}]')},c957:function(e,o,t){"use strict";t("c72f")},c9f5:function(e,o,t){e.exports=t.p+"img/grandmother.18ee536e.png"},ca7a:function(e,o,t){e.exports=t.p+"img/atheist.d8060ae8.png"},cadc:function(e,o,t){e.exports=t.p+"img/gossip.5165a7ee.png"},cae1:function(e,o,t){e.exports=t.p+"img/bmr-demon.75dfa056.png"},cd8b:function(e,o,t){e.exports=t.p+"img/devilsadvocate.18bb00ce.png"},ce23:function(e,o,t){var i={"./bmr-demon.png":"cae1","./bmr-minion.png":"28bf","./bmr-outsider.png":"e898","./bmr-townsfolk.png":"e988","./bmr.png":"7496","./custom.png":"441d","./luf.png":"92d8","./snv-demon.png":"f347","./snv-minion.png":"451a","./snv-outsider.png":"4dd9","./snv-townsfolk.png":"ed00","./snv.png":"2fd0","./tb-demon.png":"a3b0","./tb-minion.png":"5f4e","./tb-outsider.png":"73a1","./tb-townsfolk.png":"f7a3","./tb.png":"0aaa"};function s(e){var o=a(e);return t(o)}function a(e){if(!t.o(i,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id="ce23"},ce86:function(e,o,t){"use strict";t("fc9e")},cfcc:function(e,o,t){e.exports=t.p+"img/beggar.90311684.png"},d4b2:function(e,o,t){},d62b:function(e,o,t){e.exports=t.p+"img/slayer.4cde6d70.png"},d69f:function(e,o,t){e.exports=t.p+"img/fearmonger.4233784c.png"},d6bc:function(e,o,t){e.exports=t.p+"img/choirboy.9d62c6b3.png"},d715:function(e,o,t){e.exports=t.p+"img/savant.0fe828cf.png"},d97d:function(e,o,t){e.exports=t.p+"img/drunk.947841e5.png"},da81:function(e,o,t){e.exports=t.p+"img/legion.a5ecb237.png"},dbe8:function(e,o,t){e.exports=t.p+"img/alchemist.c860a284.png"},dce6:function(e,o,t){e.exports=t.p+"img/gambler.7e6e9736.png"},df5e:function(e,o,t){e.exports=t.p+"img/mephit.b1f4ea9e.png"},dfb1:function(e,o){e.exports=e=>{const o=e=>document.title="Blood on the Clocktower "+(e?"Town Square":"Grimoire");if(localStorage.getItem("background")&&e.commit("setBackground",localStorage.background),localStorage.getItem("muted")&&e.commit("toggleMuted",!0),localStorage.getItem("static")&&e.commit("toggleStatic",!0),localStorage.getItem("imageOptIn")&&e.commit("toggleImageOptIn",!0),localStorage.getItem("zoom")&&e.commit("setZoom",parseFloat(localStorage.getItem("zoom"))),localStorage.getItem("isGrimoire")&&(e.commit("toggleGrimoire",!1),o(!1)),void 0!==localStorage.roles&&(e.commit("setCustomRoles",JSON.parse(localStorage.roles)),e.commit("setEdition",{id:"custom"})),void 0!==localStorage.edition&&e.commit("setEdition",JSON.parse(localStorage.edition)),void 0!==localStorage.bluffs&&JSON.parse(localStorage.bluffs).forEach((o,t)=>{e.commit("players/setBluff",{index:t,role:e.state.roles.get(o)||{}})}),void 0!==localStorage.fabled&&e.commit("players/setFabled",{fabled:JSON.parse(localStorage.fabled).map(o=>e.state.fabled.get(o.id)||o)}),localStorage.players&&e.commit("players/set",JSON.parse(localStorage.players).map(o=>({...o,role:e.state.roles.get(o.role)||e.getters.rolesJSONbyId.get(o.role)||{}}))),localStorage.getItem("playerId")&&e.commit("session/setPlayerId",localStorage.getItem("playerId")),localStorage.getItem("session")&&!window.location.hash.substr(1)){const[o,t]=JSON.parse(localStorage.getItem("session"));e.commit("session/setSpectator",o),e.commit("session/setSessionId",t)}e.subscribe(({type:e,payload:t},i)=>{switch(e){case"toggleGrimoire":i.grimoire.isPublic?localStorage.removeItem("isGrimoire"):localStorage.setItem("isGrimoire",1),o(i.grimoire.isPublic);break;case"setBackground":t?localStorage.setItem("background",t):localStorage.removeItem("background");break;case"toggleMuted":i.grimoire.isMuted?localStorage.setItem("muted",1):localStorage.removeItem("muted");break;case"toggleStatic":i.grimoire.isStatic?localStorage.setItem("static",1):localStorage.removeItem("static");break;case"toggleImageOptIn":i.grimoire.isImageOptIn?localStorage.setItem("imageOptIn",1):localStorage.removeItem("imageOptIn");break;case"setZoom":0!==t?localStorage.setItem("zoom",t):localStorage.removeItem("zoom");break;case"setEdition":localStorage.setItem("edition",JSON.stringify(t)),i.edition.isOfficial&&localStorage.removeItem("roles");break;case"setCustomRoles":t.length?localStorage.setItem("roles",JSON.stringify(t)):localStorage.removeItem("roles");break;case"players/setBluff":localStorage.setItem("bluffs",JSON.stringify(i.players.bluffs.map(({id:e})=>e)));break;case"players/setFabled":localStorage.setItem("fabled",JSON.stringify(i.players.fabled.map(e=>e.isCustom?e:{id:e.id})));break;case"players/add":case"players/update":case"players/remove":case"players/clear":case"players/set":case"players/swap":case"players/move":i.players.players.length?localStorage.setItem("players",JSON.stringify(i.players.players.map(e=>({...e,role:e.role.id||{}})))):localStorage.removeItem("players");break;case"session/setSessionId":t?localStorage.setItem("session",JSON.stringify([i.session.isSpectator,t])):localStorage.removeItem("session");break;case"session/setPlayerId":t?localStorage.setItem("playerId",t):localStorage.removeItem("playerId");break}})}},dfe0:function(e,o,t){"use strict";t("5ae2")},e014:function(e,o,t){e.exports=t.p+"img/eviltwin.10ab31a8.png"},e1c3:function(e,o,t){},e222:function(e,o,t){e.exports=t.p+"img/djinn.e1c507e5.png"},e69f:function(e,o,t){e.exports=t.p+"img/marionette.8aceb38b.png"},e898:function(e,o,t){e.exports=t.p+"img/bmr-outsider.971a3d5d.png"},e988:function(e,o,t){e.exports=t.p+"img/bmr-townsfolk.9bf859b4.png"},ea17:function(e,o,t){e.exports=t.p+"img/engineer.15f1c940.png"},ec1e:function(e,o,t){e.exports=t.p+"img/spy.d411c998.png"},ed00:function(e,o,t){e.exports=t.p+"img/snv-townsfolk.83cf9a72.png"},ee02:function(e,o,t){e.exports=t.p+"img/courtier.7060de3f.png"},ee8c:function(e,o,t){e.exports=t.p+"img/narrador.f25fd741.png"},ee92:function(e,o,t){e.exports=t.p+"img/gunslinger.1360a66d.png"},eff4:function(e,o,t){e.exports=t.p+"img/virgin.a4b2d7a4.png"},f09b:function(e,o,t){e.exports=t.p+"img/judge.b1034c71.png"},f1e5:function(e,o,t){e.exports=t.p+"img/sweetheart.29949c36.png"},f282:function(e,o,t){e.exports=t.p+"img/poisoner.61c83e0f.png"},f2c9:function(e,o,t){"use strict";t("f95a")},f322:function(e,o,t){e.exports=t.p+"img/scarletwoman.5377675d.png"},f347:function(e,o,t){e.exports=t.p+"img/snv-demon.2fe55248.png"},f493:function(e,o,t){},f4bd:function(e,o,t){e.exports=t.p+"img/vigormortis.981de17e.png"},f558:function(e,o,t){e.exports=t.p+"img/witch.f75f1601.png"},f6a8:function(e,o,t){e.exports=t.p+"media/countdown.1462f20c.mp3"},f7a3:function(e,o,t){e.exports=t.p+"img/tb-townsfolk.550a119b.png"},f7d3:function(e,o,t){e.exports=t.p+"img/noble.5ec7b2b5.png"},f815:function(e,o,t){},f834:function(e,o,t){e.exports=t.p+"img/mastermind.91ffd4fd.png"},f93f:function(e,o,t){e.exports=t.p+"img/clockmaker.5378c03d.png"},f95a:function(e,o,t){},fc9e:function(e,o,t){},fcc6:function(e,o,t){e.exports=t.p+"img/barber.6c91c1f5.png"},fcdb:function(e,o,t){e.exports=t.p+"img/psychopath.cd71a0a2.png"},fd83:function(e,o,t){e.exports=t.p+"img/custom.402e9bc3.png"},ff64:function(e,o,t){},fff1:function(e,o,t){e.exports=t.p+"img/pacifist.0637fdf0.png"}});
//# sourceMappingURL=app.47bb3c28.js.map